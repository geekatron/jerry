# ORCHESTRATION.yaml
# Machine-readable orchestration state for EPIC-003 Quality Framework Implementation
# Document ID: PROJ-001-ORCH-STATE-EPIC003
# Version: 2.0
# Last Updated: 2026-02-14T00:00:00Z
# Generated by: orch-planner agent v2.1.0
#
# DISCLAIMER: This file was generated by the orch-planner agent (v2.1.0).
# All state transitions must be validated before execution.
# This is the Single Source of Truth (SSOT) for workflow state.

# Schema version for evolution support (semver format)
schema_version: "2.0.0"

# =============================================================================
# WORKFLOW METADATA
# =============================================================================
workflow:
  id: "epic003-impl-20260214-001"
  name: "EPIC-003 Quality Framework Implementation"
  project_id: "PROJ-001-oss-release"
  feature_id: "FEAT-008"
  epic_id: "EPIC-003"
  version: "1.0"
  created_at: "2026-02-14T00:00:00Z"
  updated_at: "2026-02-14T00:00:00Z"
  status: "ACTIVE"  # ACTIVE | PAUSED | COMPLETE | FAILED | CANCELLED

  id_source: "auto"
  id_format: "semantic-date-seq"

  patterns:
    - SEQUENTIAL             # Phases execute in order (1→2→3→4→5)
    - FAN_OUT                # Parallel enablers within phases 2-5
    - FAN_IN                 # Phase gates wait for all enablers
    - ADVERSARIAL_REVIEW     # Creator→critic→revision loops per enabler
    - HIERARCHICAL           # Orchestrator delegates to agents

  quality:
    target_score: 0.92
    max_iterations: 3
    escalation_policy: "USER_DECISION"
    scoring_scale: "0.0-1.0"

  constraints:
    max_agent_nesting: 1          # P-003: Single nesting
    file_persistence: true        # P-002: All state to filesystem
    user_authority: true          # P-020: User approves gates
    no_deception: true            # P-022: Transparent reasoning
    max_concurrent_agents: 3      # Soft constraint
    max_barrier_retries: 2        # Circuit breaker
    checkpoint_frequency: "PHASE" # AGENT | PHASE | BARRIER

# =============================================================================
# PATH CONFIGURATION
# =============================================================================
paths:
  base: "orchestration/epic003-impl-20260214-001/"
  pipeline: "{base}{pipeline_alias}/{phase_id}/{agent_id}/"
  barrier: "{base}barriers/{barrier_id}/"
  synthesis: "{base}synthesis/"

# =============================================================================
# PIPELINE DEFINITION (Single Pipeline, 5 Phases)
# =============================================================================
pipelines:
  implementation:
    id: "pipeline-implementation"
    name: "Quality Framework Implementation Pipeline"
    description: "Sequential 5-phase pipeline implementing EPIC-002 designs into working code"

    short_alias: "impl"
    skill_source: "problem-solving"

    status: "PHASE_1_PENDING"
    current_phase: 1
    total_phases: 5
    progress_percent: 0

    phases:
      # -------------------------------------------------------------------
      # PHASE 1: FOUNDATION (EN-701, EN-702) — Sequential
      # -------------------------------------------------------------------
      - id: 1
        name: "Foundation: SSOT & Rule Optimization"
        path_id: "phase-1-foundation"
        status: "PENDING"
        started_at: null
        completed_at: null
        dependencies: []
        execution_mode: "SEQUENTIAL"

        enablers:
          - id: "EN-701"
            name: "Quality Enforcement SSOT"
            effort: 5
            status: "COMPLETE"
            quality_score: 0.94
            dependencies: []
            adversarial_review:
              creator_agent: "ps-researcher"
              critic_agent: "ps-critic"
              patterns: ["llm_as_judge", "steelman"]
              quality_target: 0.92
              max_iterations: 3
              current_iteration: 2
              iterations:
                - iteration: 1
                  score: 0.852
                  verdict: "REVISE"
                  findings: {critical: 1, major: 4, minor: 5}
                - iteration: 2
                  score: 0.94
                  verdict: "PASS"
                  findings: {critical: 0, major: 0, minor: 1}
            agents:
              - id: "en701-creator"
                role: "creator"
                status: "COMPLETE"
                artifacts:
                  - type: "ssot"
                    path: "impl/phase-1-foundation/en701-creator/quality-enforcement.md"
                  - type: "revision-log"
                    path: "impl/phase-1-foundation/en701-creator/revision-iter1.md"
              - id: "en701-critic"
                role: "critic"
                status: "COMPLETE"
                artifacts:
                  - type: "critique"
                    path: "impl/phase-1-foundation/en701-critic/critique-iter1.md"
                  - type: "gate-check"
                    path: "impl/phase-1-foundation/en701-critic/critique-iter2-gate.md"

          - id: "EN-702"
            name: "Rule File Optimization"
            effort: 8
            status: "COMPLETE"
            quality_score: 0.937
            dependencies: ["EN-701"]
            adversarial_review:
              creator_agent: "ps-researcher"
              critic_agent: "ps-critic"
              patterns: ["steelman", "inversion"]
              quality_target: 0.92
              max_iterations: 3
              current_iteration: 2
              iterations:
                - iteration: 1
                  score: 0.893
                  verdict: "REVISE"
                  findings: {critical: 2, major: 3, minor: 4}
                - iteration: 2
                  score: 0.937
                  verdict: "PASS"
                  findings: {critical: 0, major: 0, minor: 3}
            agents:
              - id: "en702-creator"
                role: "creator"
                status: "COMPLETE"
                artifacts:
                  - type: "optimized-rules"
                    path: "impl/phase-1-foundation/en702-creator/"
                  - type: "optimization-report"
                    path: "impl/phase-1-foundation/en702-creator/optimization-report.md"
                  - type: "revision-log"
                    path: "impl/phase-1-foundation/en702-creator/revision-iter1.md"
              - id: "en702-critic"
                role: "critic"
                status: "COMPLETE"
                artifacts:
                  - type: "critique"
                    path: "impl/phase-1-foundation/en702-critic/critique-iter1.md"
                  - type: "gate-check"
                    path: "impl/phase-1-foundation/en702-critic/critique-iter2-gate.md"

      # -------------------------------------------------------------------
      # PHASE 2: DETERMINISTIC ENFORCEMENT (EN-703, EN-704) — Parallel
      # -------------------------------------------------------------------
      - id: 2
        name: "Deterministic Enforcement: PreToolUse & Pre-commit"
        path_id: "phase-2-deterministic"
        status: "PENDING"
        started_at: null
        completed_at: null
        dependencies: ["phase-1"]
        execution_mode: "PARALLEL"

        enablers:
          - id: "EN-703"
            name: "PreToolUse Enforcement Engine"
            effort: 13
            status: "PENDING"
            dependencies: ["EN-701", "EN-702"]
            adversarial_review:
              creator_agent: "ps-architect"
              critic_agent: "ps-critic"
              patterns: ["fmea", "red_team"]
              quality_target: 0.92
              max_iterations: 3
              current_iteration: 0
              iterations: []
            agents:
              - id: "en703-creator"
                role: "creator"
                status: "PENDING"
                artifacts:
                  - type: "enforcement-engine"
                    path: "impl/phase-2-deterministic/en703-creator/"
              - id: "en703-critic"
                role: "critic"
                status: "PENDING"

          - id: "EN-704"
            name: "Pre-commit Quality Gates"
            effort: 5
            status: "PENDING"
            dependencies: ["EN-701"]
            adversarial_review:
              creator_agent: "ps-architect"
              critic_agent: "ps-critic"
              patterns: ["devils_advocate", "chain_of_verification"]
              quality_target: 0.92
              max_iterations: 3
              current_iteration: 0
              iterations: []
            agents:
              - id: "en704-creator"
                role: "creator"
                status: "PENDING"
              - id: "en704-critic"
                role: "critic"
                status: "PENDING"

      # -------------------------------------------------------------------
      # PHASE 3: PROBABILISTIC ENFORCEMENT (EN-705, EN-706) — Parallel
      # -------------------------------------------------------------------
      - id: 3
        name: "Probabilistic Enforcement: Prompt Hooks & Session Context"
        path_id: "phase-3-probabilistic"
        status: "PENDING"
        started_at: null
        completed_at: null
        dependencies: ["phase-2"]
        execution_mode: "PARALLEL"

        enablers:
          - id: "EN-705"
            name: "UserPromptSubmit Hook"
            effort: 8
            status: "PENDING"
            dependencies: ["EN-701", "EN-703"]
            adversarial_review:
              creator_agent: "ps-architect"
              critic_agent: "ps-critic"
              patterns: ["pre_mortem", "self_refine"]
              quality_target: 0.92
              max_iterations: 3
              current_iteration: 0
              iterations: []
            agents:
              - id: "en705-creator"
                role: "creator"
                status: "PENDING"
              - id: "en705-critic"
                role: "critic"
                status: "PENDING"

          - id: "EN-706"
            name: "SessionStart Quality Context"
            effort: 5
            status: "PENDING"
            dependencies: ["EN-701"]
            adversarial_review:
              creator_agent: "ps-architect"
              critic_agent: "ps-critic"
              patterns: ["constitutional_ai", "llm_as_judge"]
              quality_target: 0.92
              max_iterations: 3
              current_iteration: 0
              iterations: []
            agents:
              - id: "en706-creator"
                role: "creator"
                status: "PENDING"
              - id: "en706-critic"
                role: "critic"
                status: "PENDING"

      # -------------------------------------------------------------------
      # PHASE 4: SKILL ENHANCEMENT (EN-707, EN-708, EN-709) — Parallel
      # -------------------------------------------------------------------
      - id: 4
        name: "Skill Enhancement: Adversarial Modes for PS, NSE, ORCH"
        path_id: "phase-4-skills"
        status: "PENDING"
        started_at: null
        completed_at: null
        dependencies: ["phase-3"]
        execution_mode: "PARALLEL"

        enablers:
          - id: "EN-707"
            name: "Problem-Solving Adversarial Mode"
            effort: 8
            status: "PENDING"
            dependencies: ["EN-701"]
            adversarial_review:
              creator_agent: "ps-researcher"
              critic_agent: "ps-critic"
              patterns: ["steelman", "constitutional_ai"]
              quality_target: 0.92
              max_iterations: 3
              current_iteration: 0
              iterations: []
            agents:
              - id: "en707-creator"
                role: "creator"
                status: "PENDING"
              - id: "en707-critic"
                role: "critic"
                status: "PENDING"

          - id: "EN-708"
            name: "NASA-SE Adversarial Mode"
            effort: 8
            status: "PENDING"
            dependencies: ["EN-701"]
            adversarial_review:
              creator_agent: "ps-researcher"
              critic_agent: "ps-critic"
              patterns: ["fmea", "red_team"]
              quality_target: 0.92
              max_iterations: 3
              current_iteration: 0
              iterations: []
            agents:
              - id: "en708-creator"
                role: "creator"
                status: "PENDING"
              - id: "en708-critic"
                role: "critic"
                status: "PENDING"

          - id: "EN-709"
            name: "Orchestration Adversarial Mode"
            effort: 8
            status: "PENDING"
            dependencies: ["EN-701"]
            adversarial_review:
              creator_agent: "ps-researcher"
              critic_agent: "ps-critic"
              patterns: ["pre_mortem", "inversion"]
              quality_target: 0.92
              max_iterations: 3
              current_iteration: 0
              iterations: []
            agents:
              - id: "en709-creator"
                role: "creator"
                status: "PENDING"
              - id: "en709-critic"
                role: "critic"
                status: "PENDING"

      # -------------------------------------------------------------------
      # PHASE 5: INTEGRATION & VALIDATION (EN-710, EN-711) — Parallel
      # -------------------------------------------------------------------
      - id: 5
        name: "Integration & Validation: CI Pipeline & E2E Testing"
        path_id: "phase-5-integration"
        status: "PENDING"
        started_at: null
        completed_at: null
        dependencies: ["phase-4"]
        execution_mode: "PARALLEL"

        enablers:
          - id: "EN-710"
            name: "CI Pipeline Integration"
            effort: 5
            status: "PENDING"
            dependencies: ["EN-703", "EN-704"]
            adversarial_review:
              creator_agent: "ps-architect"
              critic_agent: "ps-critic"
              patterns: ["chain_of_verification", "red_team"]
              quality_target: 0.92
              max_iterations: 3
              current_iteration: 0
              iterations: []
            agents:
              - id: "en710-creator"
                role: "creator"
                status: "PENDING"
              - id: "en710-critic"
                role: "critic"
                status: "PENDING"

          - id: "EN-711"
            name: "E2E Integration Testing"
            effort: 8
            status: "PENDING"
            dependencies: ["EN-703", "EN-705", "EN-706"]
            adversarial_review:
              creator_agent: "ps-validator"
              critic_agent: "ps-critic"
              patterns: ["fmea", "self_refine"]
              quality_target: 0.92
              max_iterations: 3
              current_iteration: 0
              iterations: []
            agents:
              - id: "en711-creator"
                role: "creator"
                status: "PENDING"
              - id: "en711-critic"
                role: "critic"
                status: "PENDING"

# =============================================================================
# PHASE GATES (Barriers between phases)
# =============================================================================
barriers:
  - id: "gate-1"
    name: "Phase 1 Gate: Foundation Complete"
    type: "PHASE_GATE"
    status: "PENDING"
    depends_on: ["EN-701", "EN-702"]
    unblocks: ["EN-703", "EN-704"]
    gate_criteria:
      - "EN-701 quality score >= 0.92"
      - "EN-702 quality score >= 0.92"
      - "uv run pytest tests/ passes"
      - "uv run ruff check src/ clean"
      - "quality-enforcement.md exists and under 2000 tokens"
      - "All optimized rule files validate"
    artifacts:
      checkpoint: "barriers/gate-1/checkpoint.yaml"

  - id: "gate-2"
    name: "Phase 2 Gate: Deterministic Enforcement Complete"
    type: "PHASE_GATE"
    status: "PENDING"
    depends_on: ["EN-703", "EN-704"]
    unblocks: ["EN-705", "EN-706"]
    gate_criteria:
      - "EN-703 quality score >= 0.92"
      - "EN-704 quality score >= 0.92"
      - "PreToolEnforcementEngine passes unit tests"
      - "Pre-commit hooks configured and passing"
      - "uv run pytest tests/ passes"
    artifacts:
      checkpoint: "barriers/gate-2/checkpoint.yaml"

  - id: "gate-3"
    name: "Phase 3 Gate: Probabilistic Enforcement Complete"
    type: "PHASE_GATE"
    status: "PENDING"
    depends_on: ["EN-705", "EN-706"]
    unblocks: ["EN-707", "EN-708", "EN-709"]
    gate_criteria:
      - "EN-705 quality score >= 0.92"
      - "EN-706 quality score >= 0.92"
      - "UserPromptSubmit hook functional"
      - "SessionStart quality context injecting"
      - "uv run pytest tests/ passes"
    artifacts:
      checkpoint: "barriers/gate-3/checkpoint.yaml"

  - id: "gate-4"
    name: "Phase 4 Gate: Skill Enhancement Complete"
    type: "PHASE_GATE"
    status: "PENDING"
    depends_on: ["EN-707", "EN-708", "EN-709"]
    unblocks: ["EN-710", "EN-711"]
    gate_criteria:
      - "EN-707 quality score >= 0.92"
      - "EN-708 quality score >= 0.92"
      - "EN-709 quality score >= 0.92"
      - "All 3 skills have adversarial mode sections"
      - "uv run pytest tests/ passes"
    artifacts:
      checkpoint: "barriers/gate-4/checkpoint.yaml"

  - id: "gate-5"
    name: "Phase 5 Gate: Integration Complete"
    type: "PHASE_GATE"
    status: "PENDING"
    depends_on: ["EN-710", "EN-711"]
    unblocks: ["synthesis"]
    gate_criteria:
      - "EN-710 quality score >= 0.92"
      - "EN-711 quality score >= 0.92"
      - "CI pipeline green end-to-end"
      - "E2E integration tests passing"
      - "All 11 enablers at >= 0.92"
    artifacts:
      checkpoint: "barriers/gate-5/checkpoint.yaml"

# =============================================================================
# EXECUTION QUEUE
# =============================================================================
execution_queue:
  # Phase 1: Foundation (sequential — EN-702 depends on EN-701)
  - group: 1
    name: "EN-701 Creator"
    execution_mode: "SEQUENTIAL"
    blocked_by: []
    tasks:
      - enabler: "EN-701"
        agent: "en701-creator"
        action: "Create quality-enforcement.md SSOT"

  - group: 2
    name: "EN-701 Adversarial Cycle"
    execution_mode: "SEQUENTIAL"
    blocked_by: [1]
    tasks:
      - enabler: "EN-701"
        agent: "en701-critic"
        action: "Critic iteration 1"
      - enabler: "EN-701"
        agent: "en701-creator"
        action: "Revision based on critique"
      - enabler: "EN-701"
        agent: "en701-critic"
        action: "Critic iteration 2 (gate check)"

  - group: 3
    name: "EN-702 Creator"
    execution_mode: "SEQUENTIAL"
    blocked_by: [2]
    tasks:
      - enabler: "EN-702"
        agent: "en702-creator"
        action: "Optimize 10 rule files"

  - group: 4
    name: "EN-702 Adversarial Cycle"
    execution_mode: "SEQUENTIAL"
    blocked_by: [3]
    tasks:
      - enabler: "EN-702"
        agent: "en702-critic"
        action: "Critic iteration 1"
      - enabler: "EN-702"
        agent: "en702-creator"
        action: "Revision based on critique"
      - enabler: "EN-702"
        agent: "en702-critic"
        action: "Critic iteration 2 (gate check)"

  # Phase 1 Gate
  - group: 5
    name: "Phase 1 Gate Check"
    execution_mode: "BARRIER"
    blocked_by: [4]
    barrier_id: "gate-1"
    tasks:
      - action: "Validate Phase 1 gate criteria"
      - action: "Run uv run pytest && uv run ruff check src/"
      - action: "Git commit Phase 1 artifacts"

  # Phase 2: Deterministic (parallel EN-703 + EN-704)
  - group: 6
    name: "EN-703 + EN-704 Creators"
    execution_mode: "PARALLEL"
    blocked_by: [5]
    tasks:
      - enabler: "EN-703"
        agent: "en703-creator"
        action: "Create PreToolEnforcementEngine"
      - enabler: "EN-704"
        agent: "en704-creator"
        action: "Configure pre-commit quality gates"

  - group: 7
    name: "EN-703 + EN-704 Critic Iter 1"
    execution_mode: "PARALLEL"
    blocked_by: [6]
    tasks:
      - enabler: "EN-703"
        agent: "en703-critic"
        action: "Critic iteration 1"
      - enabler: "EN-704"
        agent: "en704-critic"
        action: "Critic iteration 1"

  - group: 8
    name: "EN-703 + EN-704 Revision"
    execution_mode: "PARALLEL"
    blocked_by: [7]
    tasks:
      - enabler: "EN-703"
        agent: "en703-creator"
        action: "Revision based on critique"
      - enabler: "EN-704"
        agent: "en704-creator"
        action: "Revision based on critique"

  - group: 9
    name: "EN-703 + EN-704 Critic Iter 2"
    execution_mode: "PARALLEL"
    blocked_by: [8]
    tasks:
      - enabler: "EN-703"
        agent: "en703-critic"
        action: "Critic iteration 2 (gate check)"
      - enabler: "EN-704"
        agent: "en704-critic"
        action: "Critic iteration 2 (gate check)"

  # Phase 2 Gate
  - group: 10
    name: "Phase 2 Gate Check"
    execution_mode: "BARRIER"
    blocked_by: [9]
    barrier_id: "gate-2"
    tasks:
      - action: "Validate Phase 2 gate criteria"
      - action: "Run uv run pytest && uv run ruff check src/"
      - action: "Git commit Phase 2 artifacts"

  # Phase 3: Probabilistic (parallel EN-705 + EN-706)
  - group: 11
    name: "EN-705 + EN-706 Creators"
    execution_mode: "PARALLEL"
    blocked_by: [10]
    tasks:
      - enabler: "EN-705"
        agent: "en705-creator"
        action: "Create UserPromptSubmit hook + engine"
      - enabler: "EN-706"
        agent: "en706-creator"
        action: "Create SessionStart quality context generator"

  - group: 12
    name: "EN-705 + EN-706 Critic Iter 1"
    execution_mode: "PARALLEL"
    blocked_by: [11]
    tasks:
      - enabler: "EN-705"
        agent: "en705-critic"
        action: "Critic iteration 1"
      - enabler: "EN-706"
        agent: "en706-critic"
        action: "Critic iteration 1"

  - group: 13
    name: "EN-705 + EN-706 Revision"
    execution_mode: "PARALLEL"
    blocked_by: [12]
    tasks:
      - enabler: "EN-705"
        agent: "en705-creator"
        action: "Revision based on critique"
      - enabler: "EN-706"
        agent: "en706-creator"
        action: "Revision based on critique"

  - group: 14
    name: "EN-705 + EN-706 Critic Iter 2"
    execution_mode: "PARALLEL"
    blocked_by: [13]
    tasks:
      - enabler: "EN-705"
        agent: "en705-critic"
        action: "Critic iteration 2 (gate check)"
      - enabler: "EN-706"
        agent: "en706-critic"
        action: "Critic iteration 2 (gate check)"

  # Phase 3 Gate
  - group: 15
    name: "Phase 3 Gate Check"
    execution_mode: "BARRIER"
    blocked_by: [14]
    barrier_id: "gate-3"
    tasks:
      - action: "Validate Phase 3 gate criteria"
      - action: "Run uv run pytest && uv run ruff check src/"
      - action: "Git commit Phase 3 artifacts"

  # Phase 4: Skills (parallel EN-707 + EN-708 + EN-709)
  - group: 16
    name: "EN-707 + EN-708 + EN-709 Creators"
    execution_mode: "PARALLEL"
    blocked_by: [15]
    tasks:
      - enabler: "EN-707"
        agent: "en707-creator"
        action: "Add adversarial mode to /problem-solving"
      - enabler: "EN-708"
        agent: "en708-creator"
        action: "Add adversarial mode to /nasa-se"
      - enabler: "EN-709"
        agent: "en709-creator"
        action: "Add adversarial mode to /orchestration"

  - group: 17
    name: "EN-707 + EN-708 + EN-709 Critic Iter 1"
    execution_mode: "PARALLEL"
    blocked_by: [16]
    tasks:
      - enabler: "EN-707"
        agent: "en707-critic"
        action: "Critic iteration 1"
      - enabler: "EN-708"
        agent: "en708-critic"
        action: "Critic iteration 1"
      - enabler: "EN-709"
        agent: "en709-critic"
        action: "Critic iteration 1"

  - group: 18
    name: "EN-707 + EN-708 + EN-709 Revision"
    execution_mode: "PARALLEL"
    blocked_by: [17]
    tasks:
      - enabler: "EN-707"
        agent: "en707-creator"
        action: "Revision based on critique"
      - enabler: "EN-708"
        agent: "en708-creator"
        action: "Revision based on critique"
      - enabler: "EN-709"
        agent: "en709-creator"
        action: "Revision based on critique"

  - group: 19
    name: "EN-707 + EN-708 + EN-709 Critic Iter 2"
    execution_mode: "PARALLEL"
    blocked_by: [18]
    tasks:
      - enabler: "EN-707"
        agent: "en707-critic"
        action: "Critic iteration 2 (gate check)"
      - enabler: "EN-708"
        agent: "en708-critic"
        action: "Critic iteration 2 (gate check)"
      - enabler: "EN-709"
        agent: "en709-critic"
        action: "Critic iteration 2 (gate check)"

  # Phase 4 Gate
  - group: 20
    name: "Phase 4 Gate Check"
    execution_mode: "BARRIER"
    blocked_by: [19]
    barrier_id: "gate-4"
    tasks:
      - action: "Validate Phase 4 gate criteria"
      - action: "Run uv run pytest && uv run ruff check src/"
      - action: "Git commit Phase 4 artifacts"

  # Phase 5: Integration (parallel EN-710 + EN-711)
  - group: 21
    name: "EN-710 + EN-711 Creators"
    execution_mode: "PARALLEL"
    blocked_by: [20]
    tasks:
      - enabler: "EN-710"
        agent: "en710-creator"
        action: "Create CI pipeline enforcement"
      - enabler: "EN-711"
        agent: "en711-creator"
        action: "Create E2E integration tests"

  - group: 22
    name: "EN-710 + EN-711 Critic Iter 1"
    execution_mode: "PARALLEL"
    blocked_by: [21]
    tasks:
      - enabler: "EN-710"
        agent: "en710-critic"
        action: "Critic iteration 1"
      - enabler: "EN-711"
        agent: "en711-critic"
        action: "Critic iteration 1"

  - group: 23
    name: "EN-710 + EN-711 Revision"
    execution_mode: "PARALLEL"
    blocked_by: [22]
    tasks:
      - enabler: "EN-710"
        agent: "en710-creator"
        action: "Revision based on critique"
      - enabler: "EN-711"
        agent: "en711-creator"
        action: "Revision based on critique"

  - group: 24
    name: "EN-710 + EN-711 Critic Iter 2"
    execution_mode: "PARALLEL"
    blocked_by: [23]
    tasks:
      - enabler: "EN-710"
        agent: "en710-critic"
        action: "Critic iteration 2 (gate check)"
      - enabler: "EN-711"
        agent: "en711-critic"
        action: "Critic iteration 2 (gate check)"

  # Phase 5 Gate
  - group: 25
    name: "Phase 5 Gate Check"
    execution_mode: "BARRIER"
    blocked_by: [24]
    barrier_id: "gate-5"
    tasks:
      - action: "Validate Phase 5 gate criteria"
      - action: "Run uv run pytest && uv run ruff check src/"
      - action: "Git commit Phase 5 artifacts"

  # Final Synthesis
  - group: 26
    name: "Final Synthesis"
    execution_mode: "SEQUENTIAL"
    blocked_by: [25]
    tasks:
      - agent: "orch-synthesizer"
        action: "Produce EPIC-003 final synthesis"
      - agent: "orch-synthesizer"
        action: "Produce integration report"
      - agent: "orch-synthesizer"
        action: "Produce lessons learned"
      - action: "Final git commit and push"

# =============================================================================
# ENABLER TRACKING
# =============================================================================
enablers:
  EN-701:
    phase: 1
    effort: 5
    status: "PENDING"
    quality_score: null
    dependencies: []
    design_source: "EPIC-002 ADR-EPIC002-002, EN-301 strategy catalog"
  EN-702:
    phase: 1
    effort: 8
    status: "PENDING"
    quality_score: null
    dependencies: ["EN-701"]
    design_source: "EPIC-002 EN-404 token budget analysis"
  EN-703:
    phase: 2
    effort: 13
    status: "PENDING"
    quality_score: null
    dependencies: ["EN-701", "EN-702"]
    design_source: "EPIC-002 EN-403 enforcement design, V-038/039/040/041"
  EN-704:
    phase: 2
    effort: 5
    status: "PENDING"
    quality_score: null
    dependencies: ["EN-701"]
    design_source: "EPIC-002 EN-405, V-044 pre-commit"
  EN-705:
    phase: 3
    effort: 8
    status: "PENDING"
    quality_score: null
    dependencies: ["EN-701", "EN-703"]
    design_source: "EPIC-002 EN-403, V-024 UserPromptSubmit"
  EN-706:
    phase: 3
    effort: 5
    status: "PENDING"
    quality_score: null
    dependencies: ["EN-701"]
    design_source: "EPIC-002 EN-406, L1 static context"
  EN-707:
    phase: 4
    effort: 8
    status: "PENDING"
    quality_score: null
    dependencies: ["EN-701"]
    design_source: "EPIC-002 EN-305 skill enhancement design"
  EN-708:
    phase: 4
    effort: 8
    status: "PENDING"
    quality_score: null
    dependencies: ["EN-701"]
    design_source: "EPIC-002 EN-305 skill enhancement design"
  EN-709:
    phase: 4
    effort: 8
    status: "PENDING"
    quality_score: null
    dependencies: ["EN-701"]
    design_source: "EPIC-002 EN-307 orchestration enhancement design"
  EN-710:
    phase: 5
    effort: 5
    status: "PENDING"
    quality_score: null
    dependencies: ["EN-703", "EN-704"]
    design_source: "EPIC-002 EN-405, V-045 CI pipeline"
  EN-711:
    phase: 5
    effort: 8
    status: "PENDING"
    quality_score: null
    dependencies: ["EN-703", "EN-705", "EN-706"]
    design_source: "EPIC-002 EN-404 integration test specs (204 test cases)"

# =============================================================================
# CHECKPOINTS
# =============================================================================
checkpoints:
  latest_id: null
  entries: []

# =============================================================================
# METRICS
# =============================================================================
metrics:
  execution:
    total_enablers: 11
    completed_enablers: 0
    total_groups: 26
    completed_groups: 0
    total_effort_points: 81
    completed_effort_points: 0
  quality:
    average_score: null
    min_score: null
    max_score: null
    enablers_passing: 0
  timing:
    started_at: null
    last_activity: null
    estimated_completion: null

# =============================================================================
# BLOCKERS / ISSUES
# =============================================================================
blockers: []
issues: []

# =============================================================================
# NEXT ACTIONS
# =============================================================================
next_actions:
  immediate:
    - "Execute Group 1: EN-701 creator — build quality-enforcement.md SSOT"
  subsequent:
    - "Execute Group 2: EN-701 adversarial cycle"
    - "Execute Group 3: EN-702 creator — optimize 10 rule files"

# =============================================================================
# RESUMPTION CONTEXT
# =============================================================================
resumption:
  last_checkpoint: null
  current_state: "Ready to begin Phase 1 execution"
  next_step: "Execute Group 1: EN-701 creator"
  files_to_read:
    - "projects/PROJ-001-oss-release/work/EPIC-003-quality-implementation/orchestration/ORCHESTRATION.yaml"
    - "projects/PROJ-001-oss-release/work/EPIC-003-quality-implementation/FEAT-008-quality-framework-implementation/EN-701-quality-enforcement-ssot/EN-701-quality-enforcement-ssot.md"
