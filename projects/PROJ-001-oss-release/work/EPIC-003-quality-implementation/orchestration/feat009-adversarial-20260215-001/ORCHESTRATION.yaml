# ORCHESTRATION.yaml
# Machine-readable orchestration state for FEAT-009 Adversarial Strategy Templates & /adversary Skill
# Document ID: PROJ-001-ORCH-STATE-FEAT009
# Version: 1.0
# Last Updated: 2026-02-15T00:00:00Z
# Generated by: orch-planner agent v2.2.0
#
# DISCLAIMER: This file was generated by the orch-planner agent (v2.2.0).
# All state transitions must be validated before execution.
# This is the Single Source of Truth (SSOT) for workflow state.

# Schema version for evolution support (semver format)
schema_version: "2.0.0"

# =============================================================================
# WORKFLOW METADATA
# =============================================================================
workflow:
  id: "feat009-adversarial-20260215-001"
  name: "FEAT-009 Adversarial Strategy Templates & /adversary Skill"
  project_id: "PROJ-001-oss-release"
  feature_id: "FEAT-009"
  epic_id: "EPIC-003"
  version: "1.0"
  created_at: "2026-02-15T00:00:00Z"
  updated_at: "2026-02-15T00:00:00Z"
  status: "ACTIVE"  # ACTIVE | PAUSED | COMPLETE | FAILED | CANCELLED
  criticality: "C2"  # Standard: 3-10 files per enabler, reversible within 1 day

  id_source: "auto"
  id_format: "semantic-date-seq"

  patterns:
    - SEQUENTIAL             # Phases execute in order (1->2->3->4->5->6->7)
    - FAN_OUT                # Parallel enablers within phases 1,2,3,7
    - FAN_IN                 # Phase gates wait for all enablers
    - ADVERSARIAL_REVIEW     # Creator->critic->revision loops per enabler
    - HIERARCHICAL           # Orchestrator delegates to agents

  quality:
    target_score: 0.92
    max_iterations: 3
    escalation_policy: "USER_DECISION"
    scoring_scale: "0.0-1.0"
    scoring_dimensions:
      - name: "Completeness"
        weight: 0.20
      - name: "Internal Consistency"
        weight: 0.20
      - name: "Methodological Rigor"
        weight: 0.20
      - name: "Evidence Quality"
        weight: 0.15
      - name: "Actionability"
        weight: 0.15
      - name: "Traceability"
        weight: 0.10
    escalation_rules:
      pass: ">= 0.92"
      retry_different_strategy: "0.85-0.91 after iter 2"
      escalate_to_user: "< 0.85 after iter 2"
      block: "< 0.85 after iter 3"

  constraints:
    max_agent_nesting: 1          # P-003: Single nesting
    file_persistence: true        # P-002: All state to filesystem
    user_authority: true          # P-020: User approves gates
    no_deception: true            # P-022: Transparent reasoning
    max_concurrent_agents: 3      # Soft constraint
    max_barrier_retries: 2        # Circuit breaker
    checkpoint_frequency: "PHASE" # AGENT | PHASE | BARRIER

# =============================================================================
# PATH CONFIGURATION
# =============================================================================
paths:
  base: "orchestration/feat009-adversarial-20260215-001/"
  pipeline: "{base}impl/{phase_id}/{agent_id}/"
  barrier: "{base}barriers/{barrier_id}/"
  synthesis: "{base}synthesis/"

# =============================================================================
# PIPELINE DEFINITION (Single Pipeline, 7 Phases)
# =============================================================================
pipelines:
  implementation:
    id: "pipeline-implementation"
    name: "Adversarial Strategy Templates & Skill Pipeline"
    description: "Sequential 7-phase pipeline implementing adversarial strategy templates and /adversary skill"

    short_alias: "impl"
    skill_source: "problem-solving"

    status: "PHASE_1_PENDING"
    current_phase: 1
    total_phases: 7
    progress_percent: 0

    phases:
      # -------------------------------------------------------------------
      # PHASE 1: FOUNDATION (EN-801, EN-802) -- Parallel
      # -------------------------------------------------------------------
      - id: 1
        name: "Foundation: Template Format & Skill Skeleton"
        path_id: "phase-1-foundation"
        status: "PENDING"
        started_at: null
        completed_at: null
        dependencies: []
        execution_mode: "PARALLEL"

        enablers:
          - id: "EN-801"
            name: "Template Format Standard"
            effort: 3
            status: "PENDING"
            quality_score: null
            dependencies: []
            adversarial_review:
              creator_agent: "ps-architect"
              critic_agent: "ps-critic"
              patterns: ["llm_as_judge", "steelman"]
              quality_target: 0.92
              max_iterations: 3
              current_iteration: 0
              iterations: []
            agents:
              - id: "en801-creator"
                role: "creator"
                status: "PENDING"
              - id: "en801-critic"
                role: "critic"
                status: "PENDING"

          - id: "EN-802"
            name: "/adversary Skill Skeleton"
            effort: 3
            status: "PENDING"
            quality_score: null
            dependencies: []
            adversarial_review:
              creator_agent: "ps-architect"
              critic_agent: "ps-critic"
              patterns: ["constitutional_ai", "self_refine"]
              quality_target: 0.92
              max_iterations: 3
              current_iteration: 0
              iterations: []
            agents:
              - id: "en802-creator"
                role: "creator"
                status: "PENDING"
              - id: "en802-critic"
                role: "critic"
                status: "PENDING"

      # -------------------------------------------------------------------
      # PHASE 2: TIER 1 STRATEGY TEMPLATES (EN-803, EN-804, EN-805) -- Parallel 3-way
      # -------------------------------------------------------------------
      - id: 2
        name: "Tier 1 Strategy Templates: S-014, S-010, S-007"
        path_id: "phase-2-tier1-templates"
        status: "PENDING"
        started_at: null
        completed_at: null
        dependencies: ["phase-1"]
        execution_mode: "PARALLEL"

        enablers:
          - id: "EN-803"
            name: "S-014 LLM-as-Judge Template"
            effort: 5
            status: "PENDING"
            quality_score: null
            dependencies: ["EN-801"]
            adversarial_review:
              creator_agent: "ps-architect"
              critic_agent: "ps-critic"
              patterns: ["llm_as_judge", "inversion"]
              quality_target: 0.92
              max_iterations: 3
              current_iteration: 0
              iterations: []
            agents:
              - id: "en803-creator"
                role: "creator"
                status: "PENDING"
              - id: "en803-critic"
                role: "critic"
                status: "PENDING"

          - id: "EN-804"
            name: "S-010 Self-Refine Template"
            effort: 3
            status: "PENDING"
            quality_score: null
            dependencies: ["EN-801"]
            adversarial_review:
              creator_agent: "ps-architect"
              critic_agent: "ps-critic"
              patterns: ["self_refine", "steelman"]
              quality_target: 0.92
              max_iterations: 3
              current_iteration: 0
              iterations: []
            agents:
              - id: "en804-creator"
                role: "creator"
                status: "PENDING"
              - id: "en804-critic"
                role: "critic"
                status: "PENDING"

          - id: "EN-805"
            name: "S-007 Constitutional AI Template"
            effort: 3
            status: "PENDING"
            quality_score: null
            dependencies: ["EN-801"]
            adversarial_review:
              creator_agent: "ps-architect"
              critic_agent: "ps-critic"
              patterns: ["constitutional_ai", "devils_advocate"]
              quality_target: 0.92
              max_iterations: 3
              current_iteration: 0
              iterations: []
            agents:
              - id: "en805-creator"
                role: "creator"
                status: "PENDING"
              - id: "en805-critic"
                role: "critic"
                status: "PENDING"

      # -------------------------------------------------------------------
      # PHASE 3: TIER 2 STRATEGY TEMPLATES (EN-806, EN-807) -- Parallel
      # -------------------------------------------------------------------
      - id: 3
        name: "Tier 2 Strategy Templates: S-002, S-003"
        path_id: "phase-3-tier2-templates"
        status: "PENDING"
        started_at: null
        completed_at: null
        dependencies: ["phase-2"]
        execution_mode: "PARALLEL"

        enablers:
          - id: "EN-806"
            name: "S-002 Devil's Advocate Template"
            effort: 3
            status: "PENDING"
            quality_score: null
            dependencies: ["EN-801"]
            adversarial_review:
              creator_agent: "ps-architect"
              critic_agent: "ps-critic"
              patterns: ["devils_advocate", "steelman"]
              quality_target: 0.92
              max_iterations: 3
              current_iteration: 0
              iterations: []
            agents:
              - id: "en806-creator"
                role: "creator"
                status: "PENDING"
              - id: "en806-critic"
                role: "critic"
                status: "PENDING"

          - id: "EN-807"
            name: "S-003 Steelman Template"
            effort: 3
            status: "PENDING"
            quality_score: null
            dependencies: ["EN-801"]
            adversarial_review:
              creator_agent: "ps-architect"
              critic_agent: "ps-critic"
              patterns: ["steelman", "devils_advocate"]
              quality_target: 0.92
              max_iterations: 3
              current_iteration: 0
              iterations: []
            agents:
              - id: "en807-creator"
                role: "creator"
                status: "PENDING"
              - id: "en807-critic"
                role: "critic"
                status: "PENDING"

      # -------------------------------------------------------------------
      # PHASE 4: TIER 3 RISK STRATEGY TEMPLATES (EN-808) -- Sequential
      # -------------------------------------------------------------------
      - id: 4
        name: "Tier 3 Risk Strategy Templates: S-004, S-012, S-013"
        path_id: "phase-4-tier3-templates"
        status: "PENDING"
        started_at: null
        completed_at: null
        dependencies: ["phase-3"]
        execution_mode: "SEQUENTIAL"

        enablers:
          - id: "EN-808"
            name: "Tier 3 Risk Strategy Templates"
            effort: 5
            status: "PENDING"
            quality_score: null
            dependencies: ["EN-801"]
            adversarial_review:
              creator_agent: "ps-architect"
              critic_agent: "ps-critic"
              patterns: ["pre_mortem", "fmea", "inversion"]
              quality_target: 0.92
              max_iterations: 3
              current_iteration: 0
              iterations: []
            agents:
              - id: "en808-creator"
                role: "creator"
                status: "PENDING"
              - id: "en808-critic"
                role: "critic"
                status: "PENDING"

      # -------------------------------------------------------------------
      # PHASE 5: TIER 4 SECURITY STRATEGY TEMPLATES (EN-809) -- Sequential
      # -------------------------------------------------------------------
      - id: 5
        name: "Tier 4 Security Strategy Templates: S-001, S-011"
        path_id: "phase-5-tier4-templates"
        status: "PENDING"
        started_at: null
        completed_at: null
        dependencies: ["phase-4"]
        execution_mode: "SEQUENTIAL"

        enablers:
          - id: "EN-809"
            name: "Tier 4 Security Strategy Templates"
            effort: 3
            status: "PENDING"
            quality_score: null
            dependencies: ["EN-801"]
            adversarial_review:
              creator_agent: "ps-architect"
              critic_agent: "ps-critic"
              patterns: ["red_team", "chain_of_verification"]
              quality_target: 0.92
              max_iterations: 3
              current_iteration: 0
              iterations: []
            agents:
              - id: "en809-creator"
                role: "creator"
                status: "PENDING"
              - id: "en809-critic"
                role: "critic"
                status: "PENDING"

      # -------------------------------------------------------------------
      # PHASE 6: ADVERSARY SKILL AGENTS (EN-810) -- Sequential
      # -------------------------------------------------------------------
      - id: 6
        name: "Adversary Skill Agents: adv-selector, adv-executor, adv-scorer"
        path_id: "phase-6-skill-agents"
        status: "PENDING"
        started_at: null
        completed_at: null
        dependencies: ["phase-5"]
        execution_mode: "SEQUENTIAL"

        enablers:
          - id: "EN-810"
            name: "Adversary Skill Agents"
            effort: 5
            status: "PENDING"
            quality_score: null
            dependencies: ["EN-801", "EN-802", "EN-803", "EN-804", "EN-805", "EN-806", "EN-807", "EN-808", "EN-809"]
            adversarial_review:
              creator_agent: "ps-architect"
              critic_agent: "ps-critic"
              patterns: ["llm_as_judge", "constitutional_ai"]
              quality_target: 0.92
              max_iterations: 3
              current_iteration: 0
              iterations: []
            agents:
              - id: "en810-creator"
                role: "creator"
                status: "PENDING"
              - id: "en810-critic"
                role: "critic"
                status: "PENDING"

      # -------------------------------------------------------------------
      # PHASE 7: INTEGRATION (EN-811, EN-812) -- Parallel
      # -------------------------------------------------------------------
      - id: 7
        name: "Integration: Agent Extensions & E2E Testing"
        path_id: "phase-7-integration"
        status: "PENDING"
        started_at: null
        completed_at: null
        dependencies: ["phase-6"]
        execution_mode: "PARALLEL"

        enablers:
          - id: "EN-811"
            name: "Agent Extensions"
            effort: 3
            status: "PENDING"
            quality_score: null
            dependencies: ["EN-810"]
            adversarial_review:
              creator_agent: "ps-architect"
              critic_agent: "ps-critic"
              patterns: ["steelman", "self_refine"]
              quality_target: 0.92
              max_iterations: 3
              current_iteration: 0
              iterations: []
            agents:
              - id: "en811-creator"
                role: "creator"
                status: "PENDING"
              - id: "en811-critic"
                role: "critic"
                status: "PENDING"

          - id: "EN-812"
            name: "Integration Testing"
            effort: 5
            status: "PENDING"
            quality_score: null
            dependencies: ["EN-810", "EN-811"]
            adversarial_review:
              creator_agent: "ps-architect"
              critic_agent: "ps-critic"
              patterns: ["fmea", "chain_of_verification"]
              quality_target: 0.92
              max_iterations: 3
              current_iteration: 0
              iterations: []
            agents:
              - id: "en812-creator"
                role: "creator"
                status: "PENDING"
              - id: "en812-critic"
                role: "critic"
                status: "PENDING"

# =============================================================================
# PHASE GATES (Barriers between phases)
# =============================================================================
barriers:
  - id: "gate-1"
    name: "Phase 1 Gate: Foundation Complete"
    type: "PHASE_GATE"
    status: "PENDING"
    depends_on: ["EN-801", "EN-802"]
    unblocks: ["EN-803", "EN-804", "EN-805"]
    gate_criteria:
      - "EN-801 quality score >= 0.92"
      - "EN-802 quality score >= 0.92"
      - "TEMPLATE-FORMAT.md exists with 8 canonical sections"
      - "/adversary skill scaffold exists (SKILL.md + PLAYBOOK.md + agents/)"
    artifacts:
      checkpoint: "barriers/gate-1/checkpoint.yaml"

  - id: "gate-2"
    name: "Phase 2 Gate: Tier 1 Templates Complete"
    type: "PHASE_GATE"
    status: "PENDING"
    depends_on: ["EN-803", "EN-804", "EN-805"]
    unblocks: ["EN-806", "EN-807"]
    gate_criteria:
      - "EN-803 quality score >= 0.92"
      - "EN-804 quality score >= 0.92"
      - "EN-805 quality score >= 0.92"
      - "3 Tier 1 templates (S-014, S-010, S-007) conform to TEMPLATE-FORMAT.md"
      - "Strategy IDs match quality-enforcement.md SSOT"
    artifacts:
      checkpoint: "barriers/gate-2/checkpoint.yaml"

  - id: "gate-3"
    name: "Phase 3 Gate: Tier 2 Templates Complete"
    type: "PHASE_GATE"
    status: "PENDING"
    depends_on: ["EN-806", "EN-807"]
    unblocks: ["EN-808"]
    gate_criteria:
      - "EN-806 quality score >= 0.92"
      - "EN-807 quality score >= 0.92"
      - "2 Tier 2 templates (S-002, S-003) conform to TEMPLATE-FORMAT.md"
    artifacts:
      checkpoint: "barriers/gate-3/checkpoint.yaml"

  - id: "gate-4"
    name: "Phase 4 Gate: Tier 3 Templates Complete"
    type: "PHASE_GATE"
    status: "PENDING"
    depends_on: ["EN-808"]
    unblocks: ["EN-809"]
    gate_criteria:
      - "EN-808 quality score >= 0.92"
      - "3 Tier 3 templates (S-004, S-012, S-013) conform to TEMPLATE-FORMAT.md"
    artifacts:
      checkpoint: "barriers/gate-4/checkpoint.yaml"

  - id: "gate-5"
    name: "Phase 5 Gate: Tier 4 Templates Complete"
    type: "PHASE_GATE"
    status: "PENDING"
    depends_on: ["EN-809"]
    unblocks: ["EN-810"]
    gate_criteria:
      - "EN-809 quality score >= 0.92"
      - "2 Tier 4 templates (S-001, S-011) conform to TEMPLATE-FORMAT.md"
      - "All 10 strategy templates complete and validated"
    artifacts:
      checkpoint: "barriers/gate-5/checkpoint.yaml"

  - id: "gate-6"
    name: "Phase 6 Gate: Skill Agents Complete"
    type: "PHASE_GATE"
    status: "PENDING"
    depends_on: ["EN-810"]
    unblocks: ["EN-811", "EN-812"]
    gate_criteria:
      - "EN-810 quality score >= 0.92"
      - "3 agents (adv-selector, adv-executor, adv-scorer) created"
      - "Agents reference correct templates by strategy ID"
      - "Criticality-based selection works for C1-C4"
    artifacts:
      checkpoint: "barriers/gate-6/checkpoint.yaml"

  - id: "gate-7"
    name: "Phase 7 Gate: Integration Complete"
    type: "PHASE_GATE"
    status: "PENDING"
    depends_on: ["EN-811", "EN-812"]
    unblocks: ["synthesis"]
    gate_criteria:
      - "EN-811 quality score >= 0.92"
      - "EN-812 quality score >= 0.92"
      - "4 existing agents updated with template references"
      - "CLAUDE.md updated with /adversary skill entry"
      - "E2E tests pass (format compliance, ID validation, invocation, selection)"
      - "All 12 enablers at >= 0.92"
    artifacts:
      checkpoint: "barriers/gate-7/checkpoint.yaml"

# =============================================================================
# EXECUTION QUEUE
# =============================================================================
execution_queue:
  # Phase 1: Foundation (parallel EN-801 + EN-802)
  - group: 1
    name: "EN-801 + EN-802 Creators"
    execution_mode: "PARALLEL"
    blocked_by: []
    tasks:
      - enabler: "EN-801"
        agent: "en801-creator"
        action: "Create TEMPLATE-FORMAT.md with 8-section canonical structure"
      - enabler: "EN-802"
        agent: "en802-creator"
        action: "Create /adversary skill scaffold (SKILL.md, PLAYBOOK.md, agents/)"

  - group: 2
    name: "EN-801 + EN-802 Critic Iter 1"
    execution_mode: "PARALLEL"
    blocked_by: [1]
    tasks:
      - enabler: "EN-801"
        agent: "en801-critic"
        action: "Critic iteration 1 (S-014 LLM-as-Judge + S-003 Steelman)"
      - enabler: "EN-802"
        agent: "en802-critic"
        action: "Critic iteration 1 (S-007 Constitutional AI + S-010 Self-Refine)"

  - group: 3
    name: "EN-801 + EN-802 Revision"
    execution_mode: "PARALLEL"
    blocked_by: [2]
    tasks:
      - enabler: "EN-801"
        agent: "en801-creator"
        action: "Revision based on critique"
      - enabler: "EN-802"
        agent: "en802-creator"
        action: "Revision based on critique"

  - group: 4
    name: "EN-801 + EN-802 Critic Iter 2"
    execution_mode: "PARALLEL"
    blocked_by: [3]
    tasks:
      - enabler: "EN-801"
        agent: "en801-critic"
        action: "Critic iteration 2 (gate check)"
      - enabler: "EN-802"
        agent: "en802-critic"
        action: "Critic iteration 2 (gate check)"

  # Phase 1 Gate
  - group: 5
    name: "Phase 1 Gate Check"
    execution_mode: "BARRIER"
    blocked_by: [4]
    barrier_id: "gate-1"
    tasks:
      - action: "Validate Phase 1 gate criteria"
      - action: "Verify TEMPLATE-FORMAT.md has 8 sections"
      - action: "Verify /adversary skill scaffold"
      - action: "Git commit Phase 1 artifacts"

  # Phase 2: Tier 1 Templates (parallel EN-803 + EN-804 + EN-805)
  - group: 6
    name: "EN-803 + EN-804 + EN-805 Creators"
    execution_mode: "PARALLEL"
    blocked_by: [5]
    tasks:
      - enabler: "EN-803"
        agent: "en803-creator"
        action: "Create S-014 LLM-as-Judge template"
      - enabler: "EN-804"
        agent: "en804-creator"
        action: "Create S-010 Self-Refine template"
      - enabler: "EN-805"
        agent: "en805-creator"
        action: "Create S-007 Constitutional AI template"

  - group: 7
    name: "EN-803 + EN-804 + EN-805 Critic Iter 1"
    execution_mode: "PARALLEL"
    blocked_by: [6]
    tasks:
      - enabler: "EN-803"
        agent: "en803-critic"
        action: "Critic iteration 1 (S-014 + S-013)"
      - enabler: "EN-804"
        agent: "en804-critic"
        action: "Critic iteration 1 (S-010 + S-003)"
      - enabler: "EN-805"
        agent: "en805-critic"
        action: "Critic iteration 1 (S-007 + S-002)"

  - group: 8
    name: "EN-803 + EN-804 + EN-805 Revision"
    execution_mode: "PARALLEL"
    blocked_by: [7]
    tasks:
      - enabler: "EN-803"
        agent: "en803-creator"
        action: "Revision based on critique"
      - enabler: "EN-804"
        agent: "en804-creator"
        action: "Revision based on critique"
      - enabler: "EN-805"
        agent: "en805-creator"
        action: "Revision based on critique"

  - group: 9
    name: "EN-803 + EN-804 + EN-805 Critic Iter 2"
    execution_mode: "PARALLEL"
    blocked_by: [8]
    tasks:
      - enabler: "EN-803"
        agent: "en803-critic"
        action: "Critic iteration 2 (gate check)"
      - enabler: "EN-804"
        agent: "en804-critic"
        action: "Critic iteration 2 (gate check)"
      - enabler: "EN-805"
        agent: "en805-critic"
        action: "Critic iteration 2 (gate check)"

  # Phase 2 Gate
  - group: 10
    name: "Phase 2 Gate Check"
    execution_mode: "BARRIER"
    blocked_by: [9]
    barrier_id: "gate-2"
    tasks:
      - action: "Validate Phase 2 gate criteria"
      - action: "Verify 3 Tier 1 templates conform to TEMPLATE-FORMAT.md"
      - action: "Verify strategy IDs match quality-enforcement.md SSOT"
      - action: "Git commit Phase 2 artifacts"

  # Phase 3: Tier 2 Templates (parallel EN-806 + EN-807)
  - group: 11
    name: "EN-806 + EN-807 Creators"
    execution_mode: "PARALLEL"
    blocked_by: [10]
    tasks:
      - enabler: "EN-806"
        agent: "en806-creator"
        action: "Create S-002 Devil's Advocate template"
      - enabler: "EN-807"
        agent: "en807-creator"
        action: "Create S-003 Steelman template"

  - group: 12
    name: "EN-806 + EN-807 Critic Iter 1"
    execution_mode: "PARALLEL"
    blocked_by: [11]
    tasks:
      - enabler: "EN-806"
        agent: "en806-critic"
        action: "Critic iteration 1 (S-002 + S-003)"
      - enabler: "EN-807"
        agent: "en807-critic"
        action: "Critic iteration 1 (S-003 + S-002)"

  - group: 13
    name: "EN-806 + EN-807 Revision"
    execution_mode: "PARALLEL"
    blocked_by: [12]
    tasks:
      - enabler: "EN-806"
        agent: "en806-creator"
        action: "Revision based on critique"
      - enabler: "EN-807"
        agent: "en807-creator"
        action: "Revision based on critique"

  - group: 14
    name: "EN-806 + EN-807 Critic Iter 2"
    execution_mode: "PARALLEL"
    blocked_by: [13]
    tasks:
      - enabler: "EN-806"
        agent: "en806-critic"
        action: "Critic iteration 2 (gate check)"
      - enabler: "EN-807"
        agent: "en807-critic"
        action: "Critic iteration 2 (gate check)"

  # Phase 3 Gate
  - group: 15
    name: "Phase 3 Gate Check"
    execution_mode: "BARRIER"
    blocked_by: [14]
    barrier_id: "gate-3"
    tasks:
      - action: "Validate Phase 3 gate criteria"
      - action: "Verify 2 Tier 2 templates conform to TEMPLATE-FORMAT.md"
      - action: "Git commit Phase 3 artifacts"

  # Phase 4: Tier 3 Risk Templates (sequential EN-808)
  - group: 16
    name: "EN-808 Creator"
    execution_mode: "SEQUENTIAL"
    blocked_by: [15]
    tasks:
      - enabler: "EN-808"
        agent: "en808-creator"
        action: "Create 3 Tier 3 templates (S-004, S-012, S-013)"

  - group: 17
    name: "EN-808 Adversarial Cycle"
    execution_mode: "SEQUENTIAL"
    blocked_by: [16]
    tasks:
      - enabler: "EN-808"
        agent: "en808-critic"
        action: "Critic iteration 1 (S-004 + S-012 + S-013)"
      - enabler: "EN-808"
        agent: "en808-creator"
        action: "Revision based on critique"
      - enabler: "EN-808"
        agent: "en808-critic"
        action: "Critic iteration 2 (gate check)"

  # Phase 4 Gate
  - group: 18
    name: "Phase 4 Gate Check"
    execution_mode: "BARRIER"
    blocked_by: [17]
    barrier_id: "gate-4"
    tasks:
      - action: "Validate Phase 4 gate criteria"
      - action: "Verify 3 Tier 3 templates conform to TEMPLATE-FORMAT.md"
      - action: "Git commit Phase 4 artifacts"

  # Phase 5: Tier 4 Security Templates (sequential EN-809)
  - group: 19
    name: "EN-809 Creator"
    execution_mode: "SEQUENTIAL"
    blocked_by: [18]
    tasks:
      - enabler: "EN-809"
        agent: "en809-creator"
        action: "Create 2 Tier 4 templates (S-001, S-011)"

  - group: 20
    name: "EN-809 Adversarial Cycle"
    execution_mode: "SEQUENTIAL"
    blocked_by: [19]
    tasks:
      - enabler: "EN-809"
        agent: "en809-critic"
        action: "Critic iteration 1 (S-001 + S-011)"
      - enabler: "EN-809"
        agent: "en809-creator"
        action: "Revision based on critique"
      - enabler: "EN-809"
        agent: "en809-critic"
        action: "Critic iteration 2 (gate check)"

  # Phase 5 Gate
  - group: 21
    name: "Phase 5 Gate Check"
    execution_mode: "BARRIER"
    blocked_by: [20]
    barrier_id: "gate-5"
    tasks:
      - action: "Validate Phase 5 gate criteria"
      - action: "Verify 2 Tier 4 templates conform to TEMPLATE-FORMAT.md"
      - action: "Verify all 10 strategy templates complete and validated"
      - action: "Git commit Phase 5 artifacts"

  # Phase 6: Skill Agents (sequential EN-810)
  - group: 22
    name: "EN-810 Creator"
    execution_mode: "SEQUENTIAL"
    blocked_by: [21]
    tasks:
      - enabler: "EN-810"
        agent: "en810-creator"
        action: "Create 3 agents (adv-selector, adv-executor, adv-scorer)"

  - group: 23
    name: "EN-810 Adversarial Cycle"
    execution_mode: "SEQUENTIAL"
    blocked_by: [22]
    tasks:
      - enabler: "EN-810"
        agent: "en810-critic"
        action: "Critic iteration 1 (S-014 + S-007)"
      - enabler: "EN-810"
        agent: "en810-creator"
        action: "Revision based on critique"
      - enabler: "EN-810"
        agent: "en810-critic"
        action: "Critic iteration 2 (gate check)"

  # Phase 6 Gate
  - group: 24
    name: "Phase 6 Gate Check"
    execution_mode: "BARRIER"
    blocked_by: [23]
    barrier_id: "gate-6"
    tasks:
      - action: "Validate Phase 6 gate criteria"
      - action: "Verify agents reference correct templates"
      - action: "Verify criticality-based selection for C1-C4"
      - action: "Git commit Phase 6 artifacts"

  # Phase 7: Integration (parallel EN-811 + EN-812)
  - group: 25
    name: "EN-811 + EN-812 Creators"
    execution_mode: "PARALLEL"
    blocked_by: [24]
    tasks:
      - enabler: "EN-811"
        agent: "en811-creator"
        action: "Update 4 existing agents with template references; update CLAUDE.md"
      - enabler: "EN-812"
        agent: "en812-creator"
        action: "Create E2E integration tests"

  - group: 26
    name: "EN-811 + EN-812 Critic Iter 1"
    execution_mode: "PARALLEL"
    blocked_by: [25]
    tasks:
      - enabler: "EN-811"
        agent: "en811-critic"
        action: "Critic iteration 1 (S-003 + S-010)"
      - enabler: "EN-812"
        agent: "en812-critic"
        action: "Critic iteration 1 (S-012 + S-011)"

  - group: 27
    name: "EN-811 + EN-812 Revision"
    execution_mode: "PARALLEL"
    blocked_by: [26]
    tasks:
      - enabler: "EN-811"
        agent: "en811-creator"
        action: "Revision based on critique"
      - enabler: "EN-812"
        agent: "en812-creator"
        action: "Revision based on critique"

  - group: 28
    name: "EN-811 + EN-812 Critic Iter 2"
    execution_mode: "PARALLEL"
    blocked_by: [27]
    tasks:
      - enabler: "EN-811"
        agent: "en811-critic"
        action: "Critic iteration 2 (gate check)"
      - enabler: "EN-812"
        agent: "en812-critic"
        action: "Critic iteration 2 (gate check)"

  # Phase 7 Gate
  - group: 29
    name: "Phase 7 Gate Check"
    execution_mode: "BARRIER"
    blocked_by: [28]
    barrier_id: "gate-7"
    tasks:
      - action: "Validate Phase 7 gate criteria"
      - action: "Verify all 12 enablers >= 0.92"
      - action: "Verify E2E tests pass"
      - action: "Verify CLAUDE.md updated"
      - action: "Git commit Phase 7 artifacts"

  # Final Synthesis
  - group: 30
    name: "Final Synthesis"
    execution_mode: "SEQUENTIAL"
    blocked_by: [29]
    tasks:
      - agent: "orch-synthesizer"
        action: "Produce FEAT-009 final synthesis"
      - agent: "orch-synthesizer"
        action: "Produce integration report"
      - agent: "orch-synthesizer"
        action: "Produce lessons learned"
      - action: "Final git commit"

# =============================================================================
# ENABLER TRACKING
# =============================================================================
enablers:
  EN-801:
    phase: 1
    effort: 3
    status: "PENDING"
    quality_score: null
    dependencies: []
    design_source: "EPIC-002 ADR-EPIC002-001 strategy catalog, quality-enforcement.md SSOT"
    output_artifacts:
      - ".context/templates/adversarial/TEMPLATE-FORMAT.md"
  EN-802:
    phase: 1
    effort: 3
    status: "PENDING"
    quality_score: null
    dependencies: []
    design_source: "EPIC-002 EN-305 skill enhancement design"
    output_artifacts:
      - "skills/adversary/SKILL.md"
      - "skills/adversary/PLAYBOOK.md"
      - "skills/adversary/agents/"
  EN-803:
    phase: 2
    effort: 5
    status: "PENDING"
    quality_score: null
    dependencies: ["EN-801"]
    design_source: "EPIC-002 ADR-EPIC002-001 S-014 scored 4.40, quality-enforcement.md scoring dimensions"
    output_artifacts:
      - ".context/templates/adversarial/S-014-llm-as-judge.md"
  EN-804:
    phase: 2
    effort: 3
    status: "PENDING"
    quality_score: null
    dependencies: ["EN-801"]
    design_source: "EPIC-002 ADR-EPIC002-001 S-010 scored 4.00"
    output_artifacts:
      - ".context/templates/adversarial/S-010-self-refine.md"
  EN-805:
    phase: 2
    effort: 3
    status: "PENDING"
    quality_score: null
    dependencies: ["EN-801"]
    design_source: "EPIC-002 ADR-EPIC002-001 S-007 scored 4.15"
    output_artifacts:
      - ".context/templates/adversarial/S-007-constitutional-ai.md"
  EN-806:
    phase: 3
    effort: 3
    status: "PENDING"
    quality_score: null
    dependencies: ["EN-801"]
    design_source: "EPIC-002 ADR-EPIC002-001 S-002 scored 4.10"
    output_artifacts:
      - ".context/templates/adversarial/S-002-devils-advocate.md"
  EN-807:
    phase: 3
    effort: 3
    status: "PENDING"
    quality_score: null
    dependencies: ["EN-801"]
    design_source: "EPIC-002 ADR-EPIC002-001 S-003 scored 4.30"
    output_artifacts:
      - ".context/templates/adversarial/S-003-steelman.md"
  EN-808:
    phase: 4
    effort: 5
    status: "PENDING"
    quality_score: null
    dependencies: ["EN-801"]
    design_source: "EPIC-002 ADR-EPIC002-001 S-004 (4.10), S-012 (3.75), S-013 (4.25)"
    output_artifacts:
      - ".context/templates/adversarial/S-004-pre-mortem.md"
      - ".context/templates/adversarial/S-012-fmea.md"
      - ".context/templates/adversarial/S-013-inversion.md"
  EN-809:
    phase: 5
    effort: 3
    status: "PENDING"
    quality_score: null
    dependencies: ["EN-801"]
    design_source: "EPIC-002 ADR-EPIC002-001 S-001 (3.35), S-011 (3.75)"
    output_artifacts:
      - ".context/templates/adversarial/S-001-red-team.md"
      - ".context/templates/adversarial/S-011-chain-of-verification.md"
  EN-810:
    phase: 6
    effort: 5
    status: "PENDING"
    quality_score: null
    dependencies: ["EN-801", "EN-802", "EN-803", "EN-804", "EN-805", "EN-806", "EN-807", "EN-808", "EN-809"]
    design_source: "EPIC-002 EN-305, quality-enforcement.md criticality levels"
    output_artifacts:
      - "skills/adversary/agents/adv-selector.md"
      - "skills/adversary/agents/adv-executor.md"
      - "skills/adversary/agents/adv-scorer.md"
  EN-811:
    phase: 7
    effort: 3
    status: "PENDING"
    quality_score: null
    dependencies: ["EN-810"]
    design_source: "Existing skill agent files, CLAUDE.md quick reference"
    output_artifacts:
      - "skills/problem-solving/agents/ps-critic.md (updated)"
      - "skills/problem-solving/agents/ps-reviewer.md (updated)"
      - "skills/nasa-se/agents/nse-reviewer.md (updated)"
      - "skills/problem-solving/agents/ps-architect.md (updated)"
      - "CLAUDE.md (updated)"
  EN-812:
    phase: 7
    effort: 5
    status: "PENDING"
    quality_score: null
    dependencies: ["EN-810", "EN-811"]
    design_source: "All FEAT-009 enablers, quality-enforcement.md SSOT"
    output_artifacts:
      - "tests/e2e/test_adversarial_templates.py"
      - "tests/e2e/test_adversary_skill.py"

# =============================================================================
# CHECKPOINTS
# =============================================================================
checkpoints:
  latest_id: null
  entries: []

# =============================================================================
# METRICS
# =============================================================================
metrics:
  execution:
    total_enablers: 12
    completed_enablers: 0
    total_groups: 30
    completed_groups: 0
    total_effort_points: 46
    completed_effort_points: 0
  quality:
    average_score: null
    min_score: null
    max_score: null
    enablers_passing: 0
  timing:
    started_at: null
    last_activity: null
    estimated_completion: null

# =============================================================================
# BLOCKERS / ISSUES
# =============================================================================
blockers: []
issues: []

# =============================================================================
# NEXT ACTIONS
# =============================================================================
next_actions:
  immediate:
    - "Execute Group 1: EN-801 + EN-802 Creators (Phase 1 start)"
  subsequent:
    - "Execute Group 2: EN-801 + EN-802 Critic Iter 1"
    - "Execute Group 3: EN-801 + EN-802 Revision"

# =============================================================================
# RESUMPTION CONTEXT
# =============================================================================
resumption:
  last_checkpoint: null
  current_state: "Orchestration plan created. Ready for Phase 1 execution."
  next_step: "Execute Group 1: EN-801 + EN-802 Creators"
  files_to_read:
    - "projects/PROJ-001-oss-release/work/EPIC-003-quality-implementation/orchestration/feat009-adversarial-20260215-001/ORCHESTRATION.yaml"
    - ".context/rules/quality-enforcement.md"
    - "projects/PROJ-001-oss-release/work/EPIC-002-quality-enforcement/FEAT-004-adversarial-strategy-research/research-15-adversarial-strategies.md"
