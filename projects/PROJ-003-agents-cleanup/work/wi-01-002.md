# WI-01-002: Update plugin.json Schema and Fields

| Metadata | Value |
|----------|-------|
| **ID** | wi-01-002 |
| **Phase** | 1 - Plugin Infrastructure |
| **Status** | PENDING |
| **Priority** | HIGH |
| **Created** | 2026-01-12 |

---

## Summary

Update plugin.json to use standard Anthropic schema and field formats per Claude Code canonical structure.

---

## Tasks

- [ ] Update `$schema` to `https://anthropic.com/claude-code/plugin.schema.json`
- [ ] Convert `author` from string to object format: `{"name": "...", "url": "..."}`
- [ ] Convert `commands` from nested objects to path strings
- [ ] Convert `agents` from nested objects to path strings
- [ ] Convert `hooks` from nested objects to path strings
- [ ] Validate against schema
- [ ] Test plugin loads correctly

---

## Acceptance Criteria

- [ ] `$schema` points to Anthropic canonical schema
- [ ] `author` is an object with `name` and `url` fields
- [ ] `commands`, `agents`, `hooks` use path string format
- [ ] No deprecated field formats remain
- [ ] Plugin passes schema validation

---

## Verification Evidence

### Expected plugin.json Structure
```json
{
  "$schema": "https://anthropic.com/claude-code/plugin.schema.json",
  "name": "jerry",
  "version": "0.1.0",
  "author": {
    "name": "...",
    "url": "..."
  },
  "commands": [
    "commands/architect.md",
    "commands/release.md"
  ],
  "agents": [
    ".claude/agents/orchestrator.md",
    ".claude/agents/qa-engineer.md",
    ".claude/agents/security-auditor.md"
  ],
  "hooks": "hooks/hooks.json"
}
```

### Output Artifact
- **File**: `.claude-plugin/plugin.json` (modified)

### Source Reference
- proj-003-e-001: Claude Code plugin schema requirements

---

## Relationships

| Type | ID | Description |
|------|----|-------------|
| depends_on | wi-01-001 | Requires renamed file |
| blocks | wi-01-003 | Commands paths require this update |
| related_to | GAP-002 | Addresses plugin manifest schema gap |

---

## Notes

Command paths in plugin.json must be updated after commands directory is created in wi-01-003.
