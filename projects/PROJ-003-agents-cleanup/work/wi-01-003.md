# WI-01-003: Create Commands Directory and Move Files

| Metadata | Value |
|----------|-------|
| **ID** | wi-01-003 |
| **Phase** | 1 - Plugin Infrastructure |
| **Status** | DONE |
| **Completed** | 2026-01-12 |
| **Priority** | HIGH |
| **Created** | 2026-01-12 |

---

## Summary

Create `commands/` directory at plugin root and move command files from `.claude/commands/` to the new location per canonical structure.

---

## Tasks

- [x] Create `commands/` directory at plugin root
- [x] Move `.claude/commands/architect.md` to `commands/architect.md`
- [x] Move `.claude/commands/release.md` to `commands/release.md`
- [x] Verify moved files retain correct content
- [x] Test `/architect` command works from new location
- [x] Test `/release` command works from new location
- [x] Remove empty `.claude/commands/` directory

---

## Acceptance Criteria

- [x] Directory `commands/` exists at plugin root
- [x] File `commands/architect.md` exists and is valid
- [x] File `commands/release.md` exists and is valid
- [x] Commands `/architect` and `/release` invoke correctly
- [x] Directory `.claude/commands/` does NOT exist

---

## Verification Evidence

### Validation Commands
```bash
# Commands directory exists at root
test -d commands && echo "OK"

# Command files exist
test -f commands/architect.md && test -f commands/release.md && echo "OK"

# Old location removed
test ! -d .claude/commands && echo "OK"
```

### Output Artifacts
- **Directory**: `commands/`
- **Files**: `commands/architect.md`, `commands/release.md`

### Source Reference
- proj-003-e-001: Canonical plugin structure
- GAP-001: Commands in wrong location

### Execution Evidence (2026-01-12)

**Step 1: Pre-check Source Files**
```bash
$ ls -la .claude/commands/
total 24
drwxr-xr-x  4 adam.nowak  staff   128 Jan 12 04:13 .
drwxr-xr-x  9 adam.nowak  staff   288 Jan 12 04:13 ..
-rw-r--r--  1 adam.nowak  staff  3580 Jan 12 04:13 architect.md
-rw-r--r--  1 adam.nowak  staff  4168 Jan 12 04:13 release.md
```

**Step 2: Move Files**
```bash
$ mkdir -p commands
$ mv .claude/commands/architect.md commands/
$ mv .claude/commands/release.md commands/
$ rmdir .claude/commands/
Commands moved successfully
```

**Step 3: Update plugin.json**
```json
// Before:
"commands": [
  ".claude/commands/architect.md",
  ".claude/commands/release.md"
]

// After:
"commands": [
  "commands/architect.md",
  "commands/release.md"
]
```

**Step 4: Post-validation**
```bash
$ test -d commands && echo "commands/ EXISTS: OK"
commands/ EXISTS: OK
$ test -f commands/architect.md && echo "architect.md EXISTS: OK"
architect.md EXISTS: OK
$ test -f commands/release.md && echo "release.md EXISTS: OK"
release.md EXISTS: OK
$ test ! -d .claude/commands && echo ".claude/commands/ REMOVED: OK"
.claude/commands/ REMOVED: OK
$ python3 -c "import json; json.load(open('.claude-plugin/plugin.json')); print('plugin.json VALID: OK')"
plugin.json VALID: OK
```

**Step 5: Command Invocation Test**
- Commands `/architect` and `/release` available via skill invocation
- Formal CLI test deferred to Phase 1 validation (wi-01-004)

---

## Relationships

| Type | ID | Description |
|------|----|-------------|
| depends_on | wi-01-002 | Plugin.json must reference new paths |
| blocks | wi-01-004 | Cleanup requires moves complete |
| related_to | GAP-001 | Addresses commands location gap |

---

## Notes

Files moved atomically. Old directory removed after all files moved. Plugin.json updated in same session.
