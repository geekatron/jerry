# WI-03-004: Update TEMPLATE.md and Validate Phase 3

| Metadata | Value |
|----------|-------|
| **ID** | wi-03-004 |
| **Phase** | 3 - Agent Standardization |
| **Status** | PENDING |
| **Priority** | MEDIUM |
| **Created** | 2026-01-12 |

---

## Summary

Update `.claude/agents/TEMPLATE.md` to align with PS_AGENT_TEMPLATE structure and validate all Phase 3 agent frontmatter completeness.

---

## Tasks

- [ ] Read current TEMPLATE.md content
- [ ] Update template to include YAML frontmatter example
- [ ] Align structure with PS_AGENT_TEMPLATE from problem-solving skill
- [ ] Validate all 3 framework agents have complete frontmatter
- [ ] Verify all agents load correctly via Task tool
- [ ] Create Phase 3 completion commit

---

## Acceptance Criteria

- [ ] TEMPLATE.md includes YAML frontmatter section
- [ ] TEMPLATE.md shows all required fields (name, description, model, tools)
- [ ] TEMPLATE.md includes `<example>` block syntax
- [ ] All 3 framework agents pass frontmatter validation
- [ ] Agents can be delegated to via Task tool
- [ ] Git commit created with all Phase 3 changes

---

## Verification Evidence

### Template Structure
```markdown
---
name: {agent-name}
description: Use this agent when...
  <example>User: "..."</example>
model: inherit | claude-opus-4-5 | claude-sonnet-4-5
color: {color}
tools:
  - Tool1
  - Tool2
---

# {Agent Name}

## Purpose
...

## Capabilities
...
```

### ADR Phase 3 Success Criteria
- [ ] All 3 framework agents have YAML frontmatter
- [ ] All frontmatter includes `name`, `description`, `model`, `tools`
- [ ] All descriptions include 2-4 `<example>` blocks

### Validation Commands
```bash
# All framework agents have frontmatter
for agent in orchestrator qa-engineer security-auditor; do
  grep -q "^name:" .claude/agents/$agent.md && echo "$agent: OK"
done
```

### Output Artifacts
- **File**: `.claude/agents/TEMPLATE.md` (modified)
- **Commit**: Phase 3 completion commit

### Source Reference
- proj-003-e-004: PS_AGENT_TEMPLATE pattern
- ADR-PROJ003-001: Phase 3 validation criteria

---

## Relationships

| Type | ID | Description |
|------|----|-------------|
| depends_on | wi-03-001 | Orchestrator must have frontmatter |
| depends_on | wi-03-002 | QA engineer must have frontmatter |
| depends_on | wi-03-003 | Security auditor must have frontmatter |
| blocks | wi-04-001 | Phase 4 requires Phase 3 complete |

---

## Notes

This is the gatekeeper work item for Phase 3. Ensures template is updated and all agents validated before proceeding to Phase 4.
