# ORCHESTRATION_PLAN.md

> **Document ID:** PROJ-003-ORCH-PLAN
> **Project:** PROJ-003-je-ne-sais-quoi
> **Workflow ID:** `jnsq-20260219-001`
> **Status:** ACTIVE
> **Version:** 2.0
> **Created:** 2026-02-19
> **Last Updated:** 2026-02-19

> **Disclaimer:** This plan is generated by the orch-planner agent (v2.1.0). It reflects the orchestration design for EPIC-001 Je Ne Sais Quoi as of the creation date. Execution state is authoritative in `ORCHESTRATION.yaml`. All paths are repository-relative and cross-session portable.

---

## Document Sections

| Section | Purpose |
|---------|---------|
| [Executive Summary](#1-executive-summary) | Workflow purpose, current state, pattern |
| [Workflow Architecture](#2-workflow-architecture) | ASCII diagram, pattern classification |
| [Phase Definitions](#3-phase-definitions) | Per-phase detail: agents, strategies, artifacts |
| [Quality Gate Protocol](#4-quality-gate-protocol) | Barrier rules, gate thresholds, iteration cycles |
| [Adversarial Strategy Mapping](#5-adversarial-strategy-mapping) | Per-feature strategy sets by criticality |
| [Agent Registry](#6-agent-registry) | All agents across all phases |
| [State Management](#7-state-management) | State files, artifact path structure, checkpoints |
| [Execution Constraints](#8-execution-constraints) | HARD rules, soft constraints |
| [Success Criteria](#9-success-criteria) | Phase and workflow exit criteria |
| [Risk Mitigations](#10-risk-mitigations) | Identified risks and mitigations |
| [Resumption Context](#11-resumption-context) | Current state, next actions |

---

## 1. Executive Summary

EPIC-001 Je Ne Sais Quoi introduces the **Saucer Boy persona** and its downstream expression across the Jerry framework: a skill implementation, visual identity, framework voice, soundtrack, easter eggs, and developer experience delight. These 7 features form a dependency graph with a single root (FEAT-001) that blocks all other work.

This orchestration plan coordinates that dependency graph using a **3-Phase Sequential + Fan-Out** pattern. Each phase contains a quality gate barrier that must pass (`>= 0.92` weighted composite) before the next phase begins. Adversarial strategies are applied per-feature according to criticality level (C1/C2/C3), with `/adversary` skill invocations at each gate.

**Current State:** Phase 1 COMPLETE. Barrier 1 PASS (0.953 at raised 0.95 threshold). Phase 2 READY.

**Orchestration Pattern:** Sequential + Fan-Out with Quality Gate Barriers (single pipeline `jnsq`)

### 1.1 Workflow Identification

| Field | Value | Source |
|-------|-------|--------|
| Workflow ID | `jnsq-20260219-001` | auto |
| ID Format | `{purpose}-{YYYYMMDD}-{NNN}` | semantic-date-seq |
| Pipeline Alias | `jnsq` | je-ne-sais-quoi |
| Base Path | `orchestration/jnsq-20260219-001/` | Dynamic |

**Artifact Output Locations:**

```
orchestration/jnsq-20260219-001/
├── jnsq/
│   ├── phase-1-persona-distillation/
│   ├── phase-2-tier1-fanout/
│   └── phase-3-tier2-fanout/
└── synthesis/
```

---

## 2. Workflow Architecture

### 2.1 Pipeline Diagram

```
PIPELINE: jnsq  (Je Ne Sais Quoi)
======================================

┌─────────────────────────────────────────────────────────────────────┐
│ PHASE 1: PERSONA DISTILLATION (Tier 0)                              │
│ ─────────────────────────────────────────────────────────────────── │
│                                                                     │
│  [ps-researcher-001]  Research soul of Saucer Boy                   │
│         │                                                           │
│         ▼                                                           │
│  [ps-creator-001]     Draft FEAT-001 persona doc (C2)               │
│         │                                                           │
│         ▼                                                           │
│  [ps-critic-001]      Creator-critic cycles × 3 min                 │
│         │             Strategies: S-010 → S-003 → S-002 → S-007    │
│         │             /adversary (adv-scorer) scores each pass      │
│         ▼                                                           │
│  [adv-scorer-001]     Final S-014 quality score                     │
│                                                                     │
│  STATUS: PENDING                                                    │
└──────────────────────────────────┬──────────────────────────────────┘
                                   │
                                   ▼
        ╔══════════════════════════════════════════════════════════╗
        ║          QUALITY GATE BARRIER 1                          ║
        ║  ┌────────────────────────────────────────────────────┐  ║
        ║  │ Condition:  FEAT-001 adv-scorer score >= 0.92      │  ║
        ║  │ Strategies: S-014, S-007, S-003→S-002 (C2)        │  ║
        ║  │ On PASS:    Proceed to Phase 2 fan-out             │  ║
        ║  │ On FAIL:    Return to ps-critic-001 (re-iterate)   │  ║
        ║  │ Max retries: 2 beyond minimum 3 cycles             │  ║
        ║  └────────────────────────────────────────────────────┘  ║
        ║  STATUS: PENDING                                          ║
        ╚══════════════════════════════════════════════════════════╝
                                   │
                                   ▼
┌─────────────────────────────────────────────────────────────────────┐
│ PHASE 2: TIER 1 FAN-OUT (FEAT-002 + FEAT-003 + FEAT-005)            │
│ ─────────────────────────────────────────────────────────────────── │
│                                                                     │
│  ┌─────────────────────┐  ┌──────────────────┐  ┌───────────────┐  │
│  │ FEAT-002 (C3)       │  │ FEAT-003 (C1)    │  │ FEAT-005 (C1) │  │
│  │ /saucer-boy Skill   │  │ Visual Identity  │  │ Soundtrack    │  │
│  │ ─────────────────── │  │ ──────────────── │  │ ──────────────│  │
│  │ ps-researcher-002   │  │ ps-creator-003   │  │ ps-creator-005│  │
│  │ ps-creator-002      │  │ ps-critic-003    │  │ ps-critic-005 │  │
│  │ ps-critic-002 ×3+   │  │ adv-scorer-003  │  │ adv-scorer-005│  │
│  │ /nasa-se review     │  │ (S-010 required) │  │ (S-010 req'd) │  │
│  │ adv-scorer-002      │  └──────────────────┘  └───────────────┘  │
│  │ C3 strategies:      │                                           │
│  │ S-007,S-002,S-014   │  NOTE: FEAT-003 and FEAT-005 run in      │
│  │ S-004,S-012,S-013   │  parallel with FEAT-002. FEAT-002 score   │
│  └─────────────────────┘  is the GATE for Phase 3.                 │
│                                                                     │
│  STATUS: BLOCKED (awaiting Barrier 1)                               │
└──────────────────────────────────┬──────────────────────────────────┘
                                   │
                                   ▼
        ╔══════════════════════════════════════════════════════════╗
        ║          QUALITY GATE BARRIER 2                          ║
        ║  ┌────────────────────────────────────────────────────┐  ║
        ║  │ Condition:  FEAT-002 adv-scorer score >= 0.92 (C3) │  ║
        ║  │             FEAT-003 adv-scorer score >= pass (C1)  │  ║
        ║  │             FEAT-005 adv-scorer score >= pass (C1)  │  ║
        ║  │ Critical:   FEAT-002 blocks Phase 3 (critical path) │  ║
        ║  │ Strategies: C3 set for FEAT-002; C1 for others      │  ║
        ║  │ On PASS:    Proceed to Phase 3 fan-out              │  ║
        ║  │ On FAIL:    Return to relevant creator-critic cycle  │  ║
        ║  └────────────────────────────────────────────────────┘  ║
        ║  STATUS: BLOCKED                                          ║
        ╚══════════════════════════════════════════════════════════╝
                                   │
                                   ▼
┌─────────────────────────────────────────────────────────────────────┐
│ PHASE 3: TIER 2 FAN-OUT (FEAT-004 + FEAT-006 + FEAT-007)            │
│ ─────────────────────────────────────────────────────────────────── │
│                                                                     │
│  ┌──────────────────┐  ┌──────────────────┐  ┌──────────────────┐  │
│  │ FEAT-004 (C2)    │  │ FEAT-006 (C2)    │  │ FEAT-007 (C2)    │  │
│  │ Framework Voice  │  │ Easter Eggs      │  │ DX Delight       │  │
│  │ ──────────────── │  │ ──────────────── │  │ ──────────────── │  │
│  │ ps-creator-004   │  │ ps-creator-006   │  │ ps-creator-007   │  │
│  │ ps-critic-004 ×3 │  │ ps-critic-006 ×3 │  │ ps-critic-007 ×3 │  │
│  │ adv-scorer-004   │  │ adv-scorer-006   │  │ adv-scorer-007   │  │
│  │ C2 strategies:   │  │ C2 strategies:   │  │ C2 strategies:   │  │
│  │ S-007,S-002,S-014│  │ S-007,S-002,S-014│  │ S-007,S-002,S-014│  │
│  └────────┬─────────┘  └────────┬─────────┘  └────────┬─────────┘  │
│           │                     │                     │             │
│           └─────────────────────┴─────────────────────┘             │
│                                 │                                   │
│                                 ▼                                   │
│                    [synth-001] Fan-in Synthesis                     │
│                    Final epic synthesis document                    │
│                                                                     │
│  STATUS: BLOCKED (awaiting Barrier 2)                               │
└─────────────────────────────────────────────────────────────────────┘
                                   │
                                   ▼
        ╔══════════════════════════════════════════════════════════╗
        ║          WORKFLOW COMPLETE                               ║
        ║  All 7 features produced, scored >= 0.92 (C2+), and     ║
        ║  synthesized. WORKTRACKER updated. Commit ready.         ║
        ╚══════════════════════════════════════════════════════════╝
```

### 2.2 Orchestration Pattern Classification

| Pattern | Applied | Description |
|---------|---------|-------------|
| Sequential | Yes | Three phases execute in strict order |
| Concurrent | Yes | Fan-out within Phase 2 and Phase 3 |
| Barrier Sync | Yes | Quality gate barriers between phases |
| Hierarchical | Yes | Orchestrator delegates to worker agents |
| Cross-Pollination | No | Single pipeline; no cross-pipeline exchange |

### 2.3 Critical Path

```
FEAT-001 (Phase 1) --> Barrier 1 --> FEAT-002 (Phase 2) --> Barrier 2 --> {FEAT-004, FEAT-006, FEAT-007} (Phase 3)
```

FEAT-003 and FEAT-005 are on the non-critical path: they run in parallel during Phase 2 but do not gate Phase 3 independently. FEAT-002 is the sole critical-path gating condition for Barrier 2.

---

## 3. Phase Definitions

### 3.1 Phase 1: Persona Distillation

**Tier:** 0 (Root) | **Feature:** FEAT-001 | **Criticality:** C2 | **Status:** PENDING

| Aspect | Value |
|--------|-------|
| Purpose | Produce the canonical Saucer Boy persona document — the brand bible that all other features reference |
| Deliverable | `FEAT-001-saucer-boy-persona.md` |
| Primary Skill | `/problem-solving` |
| Supporting Skill | `/adversary` (C2 strategy set) |
| Min Iterations | 3 (H-14) |
| Quality Gate | >= 0.92 composite (H-13) |
| Blocks | Phase 2 (all of Tier 1) |

**Agents:**

| Agent ID | Role | Responsibility |
|----------|------|----------------|
| ps-researcher-001 | Researcher | Source analysis: existing Jerry docs, brand signals, persona primitives |
| ps-creator-001 | Creator | Draft persona document (first pass) |
| ps-critic-001 | Critic | Creator-critic-revision loop (min 3 iterations) |
| adv-scorer-001 | Quality Scorer | Apply S-014 LLM-as-Judge; produce composite score |

**Artifact Path:**
```
orchestration/jnsq-20260219-001/jnsq/phase-1-persona-distillation/
├── ps-researcher-001/ps-researcher-001-research.md
├── ps-creator-001/ps-creator-001-draft.md
├── ps-critic-001/ps-critic-001-review-r1.md
├── ps-critic-001/ps-critic-001-review-r2.md
├── ps-critic-001/ps-critic-001-review-r3.md
└── adv-scorer-001/adv-scorer-001-quality-score.md
```

**Adversarial Strategy Sequence (C2):**
1. S-010 Self-Refine (creator self-review before critic)
2. S-003 Steelman (strengthen best interpretation before attack) -- H-16
3. S-002 Devil's Advocate (challenge assumptions) -- after S-003 per H-16
4. S-007 Constitutional AI Critique (governance compliance)
5. S-014 LLM-as-Judge (final composite score)

---

### 3.2 Phase 2: Tier 1 Fan-Out

**Tier:** 1 | **Features:** FEAT-002, FEAT-003, FEAT-005 | **Status:** BLOCKED

Phase 2 runs three feature streams in parallel after Barrier 1 clears. FEAT-002 is on the critical path and receives C3 treatment. FEAT-003 and FEAT-005 are independent leaves receiving C1 treatment.

#### 3.2.1 FEAT-002: /saucer-boy Skill (C3 — Critical Path)

| Aspect | Value |
|--------|-------|
| Purpose | Implement the `/saucer-boy` skill — new skill with architecture changes affecting >10 files |
| Deliverable | Skill implementation: `skills/saucer-boy/` directory, `SKILL.md`, agents, templates, references/ |
| Primary Skills | `/architecture`, coding |
| Supporting Skills | `/adversary` (C3 set), `/nasa-se` (requirements review) |
| Min Iterations | 3+ (H-14) |
| Quality Gate | >= 0.92 composite (H-13) — gates Barrier 2 |

**Design Constraints (from Phase 1 discoveries):**

| Constraint | Source | Requirement |
|------------|--------|-------------|
| Progressive Disclosure | DISC-001, DEC-001 | MUST use 3-tier structure: SKILL.md (<5k words) + references/ (on-demand) + agents/. Persona doc (879 lines, ~15k tokens) cannot be loaded wholesale. |
| Agent-Specific Loading | DEC-001 D-003 | SKILL.md carries decision rules (Authenticity Tests, Core Thesis, Voice Traits). References carry examples (voice pairs, humor rules, cultural palette). Agents load only the reference files they need. |
| Canonical Source Preserved | DEC-001 D-002 | Persona doc (ps-creator-001-draft.md v0.9.0) is the "brand bible." Skill files are operationalized derivatives — extraction, not modification. |
| WebSearch Mandatory | DISC-002 | ps-researcher-002 MUST use WebSearch/WebFetch for all factual/biographical claims. Training data alone is insufficient for P-022 compliance. |

**Agents:**

| Agent ID | Role | Responsibility |
|----------|------|----------------|
| ps-researcher-002 | Researcher | Analyze existing skill architectures (adversary, problem-solving, worktracker) for structural patterns; identify optimal persona doc split points; audit integration points. MUST use WebSearch for any external references per DISC-002. |
| ps-creator-002 | Creator | Draft skill structure using progressive disclosure pattern: SKILL.md + references/ + agents/ per DEC-001 |
| ps-critic-002 | Critic | Creator-critic-revision loop (min 3 iterations, C3 depth) |
| adv-scorer-002 | Quality Scorer | S-014 composite score; gates Barrier 2 |

**Adversarial Strategy Sequence (C3):**
1. S-010 Self-Refine (creator self-review)
2. S-003 Steelman (strengthen design before critique) -- H-16
3. S-002 Devil's Advocate (challenge architecture decisions) -- after S-003
4. S-007 Constitutional AI Critique
5. S-004 Pre-Mortem Analysis (what could go wrong post-ship?)
6. S-012 FMEA (failure mode and effect analysis on skill design)
7. S-013 Inversion Technique (what would a terrible skill look like?)
8. S-014 LLM-as-Judge (final composite score)

Optional (apply if score < 0.92 after required set): S-001, S-011

**Artifact Path:**
```
orchestration/jnsq-20260219-001/jnsq/phase-2-tier1-fanout/feat-002/
├── ps-researcher-002/ps-researcher-002-research.md
├── ps-creator-002/ps-creator-002-draft.md
├── ps-critic-002/ps-critic-002-review-r1.md
├── ps-critic-002/ps-critic-002-review-r2.md
├── ps-critic-002/ps-critic-002-review-r3.md
└── adv-scorer-002/adv-scorer-002-quality-score.md
```

#### 3.2.2 FEAT-003: Saucer Boy Visual Identity (C1)

| Aspect | Value |
|--------|-------|
| Purpose | Define visual identity: ASCII art, color palette, logo concepts, visual vocabulary |
| Deliverable | `FEAT-003-visual-identity.md` with asset definitions |
| Primary Skill | Creative (no skill invocation required) |
| Supporting Skill | `/adversary` (C1 — S-010 required, S-014 optional) |
| Min Iterations | 1 (C1 minimum) |
| Quality Gate | S-010 self-review pass |

**Agents:**

| Agent ID | Role | Responsibility |
|----------|------|----------------|
| ps-creator-003 | Creator | Draft visual identity document and asset concepts |
| ps-critic-003 | Critic | Single-pass review (C1) |
| adv-scorer-003 | Quality Scorer | S-010 self-review; optional S-014 |

**Artifact Path:**
```
orchestration/jnsq-20260219-001/jnsq/phase-2-tier1-fanout/feat-003/
├── ps-creator-003/ps-creator-003-draft.md
├── ps-critic-003/ps-critic-003-review.md
└── adv-scorer-003/adv-scorer-003-quality-score.md
```

#### 3.2.3 FEAT-005: The Jerry Soundtrack (C1)

| Aspect | Value |
|--------|-------|
| Purpose | Define the cultural soundtrack artifact: curated music, vibes, sonic identity |
| Deliverable | `FEAT-005-jerry-soundtrack.md` |
| Primary Skill | Creative (no skill invocation required) |
| Supporting Skill | `/adversary` (C1 — S-010 required) |
| Min Iterations | 1 (C1 minimum) |
| Quality Gate | S-010 self-review pass |

**Agents:**

| Agent ID | Role | Responsibility |
|----------|------|----------------|
| ps-creator-005 | Creator | Draft soundtrack curation and cultural rationale |
| ps-critic-005 | Critic | Single-pass review (C1) |
| adv-scorer-005 | Quality Scorer | S-010 self-review |

**Artifact Path:**
```
orchestration/jnsq-20260219-001/jnsq/phase-2-tier1-fanout/feat-005/
├── ps-creator-005/ps-creator-005-draft.md
├── ps-critic-005/ps-critic-005-review.md
└── adv-scorer-005/adv-scorer-005-quality-score.md
```

---

### 3.3 Phase 3: Tier 2 Fan-Out

**Tier:** 2 | **Features:** FEAT-004, FEAT-006, FEAT-007 | **Status:** BLOCKED

Phase 3 runs three feature streams in parallel after Barrier 2 clears. All three features are C2. Each requires a creator-critic-revision loop (min 3 iterations) and a quality gate >= 0.92. The phase closes with a fan-in synthesis agent.

#### 3.3.1 FEAT-004: Framework Voice & Personality (C2)

| Aspect | Value |
|--------|-------|
| Purpose | Codify the Saucer Boy voice across all Jerry framework messaging: CLI output, docs, error messages |
| Deliverable | `FEAT-004-framework-voice.md` + applied voice updates |
| Primary Skills | `/problem-solving`, coding |
| Supporting Skill | `/adversary` (C2 set) |
| Min Iterations | 3 (H-14) |
| Quality Gate | >= 0.92 composite (H-13) |

**Agents:**

| Agent ID | Role | Responsibility |
|----------|------|----------------|
| ps-creator-004 | Creator | Draft voice guide and apply to framework touchpoints |
| ps-critic-004 | Critic | Creator-critic-revision loop (min 3 iterations) |
| adv-scorer-004 | Quality Scorer | S-014 composite score |

**Adversarial Strategy Sequence (C2):** S-010 → S-003 → S-002 → S-007 → S-014

**Artifact Path:**
```
orchestration/jnsq-20260219-001/jnsq/phase-3-tier2-fanout/feat-004/
├── ps-creator-004/ps-creator-004-draft.md
├── ps-critic-004/ps-critic-004-review-r{N}.md
└── adv-scorer-004/adv-scorer-004-quality-score.md
```

#### 3.3.2 FEAT-006: Easter Eggs & Cultural References (C2)

| Aspect | Value |
|--------|-------|
| Purpose | Implement easter eggs in source code and CLI that reward exploration with Saucer Boy cultural moments |
| Deliverable | `FEAT-006-easter-eggs.md` (design) + implementation in source |
| Primary Skill | Coding |
| Supporting Skill | `/adversary` (C2 set) |
| Min Iterations | 3 (H-14) |
| Quality Gate | >= 0.92 composite (H-13) |

**Agents:**

| Agent ID | Role | Responsibility |
|----------|------|----------------|
| ps-creator-006 | Creator | Design and implement easter eggs |
| ps-critic-006 | Critic | Creator-critic-revision loop (min 3 iterations) |
| adv-scorer-006 | Quality Scorer | S-014 composite score |

**Adversarial Strategy Sequence (C2):** S-010 → S-003 → S-002 → S-007 → S-014

**Artifact Path:**
```
orchestration/jnsq-20260219-001/jnsq/phase-3-tier2-fanout/feat-006/
├── ps-creator-006/ps-creator-006-draft.md
├── ps-critic-006/ps-critic-006-review-r{N}.md
└── adv-scorer-006/adv-scorer-006-quality-score.md
```

#### 3.3.3 FEAT-007: Developer Experience Delight (C2)

| Aspect | Value |
|--------|-------|
| Purpose | Introduce DX improvements that express the Saucer Boy persona across session hooks, CLI interactions, and developer-facing surfaces |
| Deliverable | `FEAT-007-dx-delight.md` (design) + implementation |
| Primary Skills | `/problem-solving`, coding |
| Supporting Skill | `/adversary` (C2 set) |
| Min Iterations | 3 (H-14) |
| Quality Gate | >= 0.92 composite (H-13) |

**Agents:**

| Agent ID | Role | Responsibility |
|----------|------|----------------|
| ps-creator-007 | Creator | Design and implement DX delight features |
| ps-critic-007 | Critic | Creator-critic-revision loop (min 3 iterations) |
| adv-scorer-007 | Quality Scorer | S-014 composite score |

**Adversarial Strategy Sequence (C2):** S-010 → S-003 → S-002 → S-007 → S-014

**Artifact Path:**
```
orchestration/jnsq-20260219-001/jnsq/phase-3-tier2-fanout/feat-007/
├── ps-creator-007/ps-creator-007-draft.md
├── ps-critic-007/ps-critic-007-review-r{N}.md
└── adv-scorer-007/adv-scorer-007-quality-score.md
```

#### 3.3.4 Fan-In Synthesis

After all three Phase 3 feature streams complete and pass their quality gates, the synthesis agent produces the final EPIC-001 summary.

| Agent ID | Role | Responsibility |
|----------|------|----------------|
| synth-001 | Synthesizer | Produce final EPIC-001 synthesis: cross-feature coherence, persona consistency audit, open items |

**Artifact Path:**
```
orchestration/jnsq-20260219-001/synthesis/
└── synth-001-epic001-final-synthesis.md
```

---

## 4. Quality Gate Protocol

### 4.1 Barrier Transition Rules

```
QUALITY GATE BARRIER PROTOCOL
===============================

BARRIER 1 (After Phase 1):
  PRE-GATE CHECK
  □ ps-critic-001 has completed minimum 3 iteration cycles (H-14)
  □ adv-scorer-001 has produced a composite score via S-014
  □ All 6 quality dimensions scored (Completeness, Internal Consistency,
    Methodological Rigor, Evidence Quality, Actionability, Traceability)

  GATE EVALUATION
  □ Composite score >= 0.92 → PASS → Proceed to Phase 2
  □ Score 0.85-0.91 (REVISE band) → FAIL → Targeted revision; re-score
  □ Score < 0.85 (REJECTED band) → FAIL → Significant rework; re-score
  □ Max 2 additional cycles beyond initial 3 before escalating to user

  POST-GATE
  □ ORCHESTRATION.yaml updated: barrier-1 status = COMPLETE
  □ Score recorded in ORCHESTRATION.yaml quality_scores block
  □ Phase 2 agents unblocked

BARRIER 2 (After Phase 2):
  PRE-GATE CHECK
  □ FEAT-002: adv-scorer-002 composite score exists (C3 gate -- critical path)
  □ FEAT-003: adv-scorer-003 self-review complete (C1 gate)
  □ FEAT-005: adv-scorer-005 self-review complete (C1 gate)

  GATE EVALUATION
  □ FEAT-002 score >= 0.92 → CRITICAL PATH PASS
  □ FEAT-003 S-010 pass → LEAF PASS
  □ FEAT-005 S-010 pass → LEAF PASS
  □ All three must pass; FEAT-002 failure blocks Phase 3 regardless of others

  POST-GATE
  □ ORCHESTRATION.yaml updated: barrier-2 status = COMPLETE
  □ Phase 3 agents unblocked
```

### 4.2 Barrier Definitions

| Barrier | After Phase | Gate Condition | Status |
|---------|-------------|----------------|--------|
| barrier-1 | Phase 1 | FEAT-001 >= 0.92 (C2) | PENDING |
| barrier-2 | Phase 2 | FEAT-002 >= 0.92 (C3) + FEAT-003 pass (C1) + FEAT-005 pass (C1) | BLOCKED |

### 4.3 Quality Score Dimensions (S-014)

| Dimension | Weight | Description |
|-----------|--------|-------------|
| Completeness | 0.20 | All required elements present |
| Internal Consistency | 0.20 | No contradictions within the artifact |
| Methodological Rigor | 0.20 | Sound reasoning and approach |
| Evidence Quality | 0.15 | Claims supported by evidence |
| Actionability | 0.15 | Outputs can be acted upon |
| Traceability | 0.10 | Requirements and decisions traceable |

**Minimum score to pass:** 0.92 weighted composite (C2+ deliverables only per H-13)

---

## 5. Adversarial Strategy Mapping

### 5.1 Strategy Application by Feature

| Feature | Criticality | Required Strategies | Optional Strategies | Min Cycles |
|---------|-------------|---------------------|---------------------|------------|
| FEAT-001 | C2 | S-007, S-002, S-014 | S-003, S-010 | 3 |
| FEAT-002 | C3 | S-007, S-002, S-014, S-004, S-012, S-013 | S-001, S-003, S-010, S-011 | 3+ |
| FEAT-003 | C1 | S-010 | S-003, S-014 | 1 |
| FEAT-004 | C2 | S-007, S-002, S-014 | S-003, S-010 | 3 |
| FEAT-005 | C1 | S-010 | S-003, S-014 | 1 |
| FEAT-006 | C2 | S-007, S-002, S-014 | S-003, S-010 | 3 |
| FEAT-007 | C2 | S-007, S-002, S-014 | S-003, S-010 | 3 |

### 5.2 H-16 Enforcement: Steelman Before Devil's Advocate

Per H-16, S-003 (Steelman) MUST precede S-002 (Devil's Advocate) in all review sequences where both are applied. This is the canonical review pairing.

```
CORRECT sequence:   S-010 → S-003 → S-002 → S-007 → S-014
INCORRECT sequence: S-010 → S-002 → S-003 → S-007 → S-014  [VIOLATION]
```

### 5.3 Skill Routing Per Feature

| Feature | Primary Skill | /adversary Invocation |
|---------|--------------|----------------------|
| FEAT-001 | /problem-solving | adv-scorer at gate; C2 strategy set |
| FEAT-002 | /architecture + coding | adv-scorer at gate; C3 strategy set; /nasa-se for requirements |
| FEAT-003 | creative | adv-scorer for S-010 review; C1 light touch |
| FEAT-004 | /problem-solving + coding | adv-scorer at gate; C2 strategy set |
| FEAT-005 | creative | adv-scorer for S-010 review; C1 light touch |
| FEAT-006 | coding | adv-scorer at gate; C2 strategy set |
| FEAT-007 | /problem-solving + coding | adv-scorer at gate; C2 strategy set |

---

## 6. Agent Registry

### 6.1 Phase 1 Agents

| Agent ID | Role | Phase | Feature | Input | Output |
|----------|------|-------|---------|-------|--------|
| ps-researcher-001 | Researcher | 1 | FEAT-001 | Jerry docs, brand signals | `ps-researcher-001-research.md` |
| ps-creator-001 | Creator | 1 | FEAT-001 | Research artifact | `ps-creator-001-draft.md` |
| ps-critic-001 | Critic | 1 | FEAT-001 | Creator draft + strategies | `ps-critic-001-review-r{N}.md` |
| adv-scorer-001 | Quality Scorer | 1 | FEAT-001 | Final revised draft | `adv-scorer-001-quality-score.md` |

### 6.2 Phase 2 Agents

| Agent ID | Role | Phase | Feature | Input | Output |
|----------|------|-------|---------|-------|--------|
| ps-researcher-002 | Researcher | 2 | FEAT-002 | FEAT-001 persona doc, skill arch | `ps-researcher-002-research.md` |
| ps-creator-002 | Creator | 2 | FEAT-002 | Research + FEAT-001 | `ps-creator-002-draft.md` |
| ps-critic-002 | Critic | 2 | FEAT-002 | Creator draft + C3 strategies | `ps-critic-002-review-r{N}.md` |
| adv-scorer-002 | Quality Scorer | 2 | FEAT-002 | Final revised draft | `adv-scorer-002-quality-score.md` |
| ps-creator-003 | Creator | 2 | FEAT-003 | FEAT-001 persona doc | `ps-creator-003-draft.md` |
| ps-critic-003 | Critic | 2 | FEAT-003 | Creator draft + S-010 | `ps-critic-003-review.md` |
| adv-scorer-003 | Quality Scorer | 2 | FEAT-003 | Reviewed draft | `adv-scorer-003-quality-score.md` |
| ps-creator-005 | Creator | 2 | FEAT-005 | FEAT-001 persona doc | `ps-creator-005-draft.md` |
| ps-critic-005 | Critic | 2 | FEAT-005 | Creator draft + S-010 | `ps-critic-005-review.md` |
| adv-scorer-005 | Quality Scorer | 2 | FEAT-005 | Reviewed draft | `adv-scorer-005-quality-score.md` |

### 6.3 Phase 3 Agents

| Agent ID | Role | Phase | Feature | Input | Output |
|----------|------|-------|---------|-------|--------|
| ps-creator-004 | Creator | 3 | FEAT-004 | FEAT-001 persona, FEAT-002 skill | `ps-creator-004-draft.md` |
| ps-critic-004 | Critic | 3 | FEAT-004 | Creator draft + C2 strategies | `ps-critic-004-review-r{N}.md` |
| adv-scorer-004 | Quality Scorer | 3 | FEAT-004 | Final revised draft | `adv-scorer-004-quality-score.md` |
| ps-creator-006 | Creator | 3 | FEAT-006 | FEAT-001 persona, FEAT-002 skill | `ps-creator-006-draft.md` |
| ps-critic-006 | Critic | 3 | FEAT-006 | Creator draft + C2 strategies | `ps-critic-006-review-r{N}.md` |
| adv-scorer-006 | Quality Scorer | 3 | FEAT-006 | Final revised draft | `adv-scorer-006-quality-score.md` |
| ps-creator-007 | Creator | 3 | FEAT-007 | FEAT-001 persona, FEAT-002 skill | `ps-creator-007-draft.md` |
| ps-critic-007 | Critic | 3 | FEAT-007 | Creator draft + C2 strategies | `ps-critic-007-review-r{N}.md` |
| adv-scorer-007 | Quality Scorer | 3 | FEAT-007 | Final revised draft | `adv-scorer-007-quality-score.md` |
| synth-001 | Synthesizer | 3 | EPIC-001 | All Phase 3 artifacts | `synth-001-epic001-final-synthesis.md` |

---

## 7. State Management

### 7.1 State Files

| File | Purpose |
|------|---------|
| `ORCHESTRATION.yaml` | Machine-readable state (SSOT) |
| `ORCHESTRATION_PLAN.md` | This file -- strategic context and design |

### 7.2 Artifact Path Structure

All artifacts are stored under the workflow base path using dynamic identifiers. No hardcoded pipeline names.

```
projects/PROJ-003-je-ne-sais-quoi/orchestration/jnsq-20260219-001/
├── jnsq/
│   ├── phase-1-persona-distillation/
│   │   ├── ps-researcher-001/
│   │   │   └── ps-researcher-001-research.md
│   │   ├── ps-creator-001/
│   │   │   └── ps-creator-001-draft.md
│   │   ├── ps-critic-001/
│   │   │   ├── ps-critic-001-review-r1.md
│   │   │   ├── ps-critic-001-review-r2.md
│   │   │   └── ps-critic-001-review-r3.md
│   │   └── adv-scorer-001/
│   │       └── adv-scorer-001-quality-score.md
│   ├── phase-2-tier1-fanout/
│   │   ├── feat-002/
│   │   │   ├── ps-researcher-002/
│   │   │   ├── ps-creator-002/
│   │   │   ├── ps-critic-002/
│   │   │   └── adv-scorer-002/
│   │   ├── feat-003/
│   │   │   ├── ps-creator-003/
│   │   │   ├── ps-critic-003/
│   │   │   └── adv-scorer-003/
│   │   └── feat-005/
│   │       ├── ps-creator-005/
│   │       ├── ps-critic-005/
│   │       └── adv-scorer-005/
│   └── phase-3-tier2-fanout/
│       ├── feat-004/
│       │   ├── ps-creator-004/
│       │   ├── ps-critic-004/
│       │   └── adv-scorer-004/
│       ├── feat-006/
│       │   ├── ps-creator-006/
│       │   ├── ps-critic-006/
│       │   └── adv-scorer-006/
│       └── feat-007/
│           ├── ps-creator-007/
│           ├── ps-critic-007/
│           └── adv-scorer-007/
└── synthesis/
    └── synth-001-epic001-final-synthesis.md
```

**Path Pattern (from ORCHESTRATION.yaml):**
- Pipeline artifacts: `orchestration/{workflow.id}/{pipeline_alias}/{phase_id}/{agent_id}/{agent_id}-{artifact_type}.md`
- Synthesis: `orchestration/{workflow.id}/synthesis/{agent_id}-{artifact_name}.md`

### 7.3 Checkpoint Strategy

| Trigger | When | Purpose |
|---------|------|---------|
| PHASE_COMPLETE | After each phase | Phase-level rollback point |
| BARRIER_COMPLETE | After each quality gate | Gate result persistence |
| MANUAL | User-triggered | Debug and inspection |

---

## 8. Execution Constraints

### 8.1 Hard Constraints (Jerry Constitution)

| Constraint | ID | Enforcement |
|------------|----|----|
| Single agent nesting | P-003 / H-01 | Orchestrator delegates to workers only; no recursive subagents |
| File persistence | P-002 | All state and artifacts written to filesystem |
| No deception | P-022 / H-03 | Transparent reasoning; scores reported as-is |
| User authority | P-020 / H-02 | User approves any gate escalation beyond max retries |
| Quality threshold | H-13 | >= 0.92 for C2+ deliverables; below = rejected |
| Creator-critic cycles | H-14 | Minimum 3 iterations for C2+ |
| Self-review first | H-15 | S-010 before presenting to critic |
| Steelman before Devil's Advocate | H-16 | S-003 before S-002 in all review chains |
| Quality scoring required | H-17 | S-014 for all C2+ deliverables |
| Constitutional compliance | H-18 | S-007 for all C2+ deliverables |
| Proactive skill invocation | H-22 | /adversary, /problem-solving, /architecture invoked early |
| UV only | H-05 / H-06 | All Python via `uv run`; deps via `uv add` |

### 8.2 Soft Constraints

| Constraint | Value | Rationale |
|------------|-------|-----------|
| Max concurrent agents | 3 | Fan-out phases run up to 3 parallel streams |
| Max barrier retries | 2 (beyond min 3) | Circuit breaker before escalating to user |
| Checkpoint frequency | PHASE + BARRIER | Recovery at both phase and gate boundaries |
| Max FEAT-002 review iterations | 5 | C3 depth; escalate to user if still failing |

---

## 9. Success Criteria

### 9.1 Phase 1 Exit Criteria

| Criterion | Validation |
|-----------|------------|
| FEAT-001 persona document complete | `ps-creator-001-draft.md` (final revision) exists |
| Minimum 3 critic iterations complete | `ps-critic-001-review-r3.md` exists |
| Quality score >= 0.92 | `adv-scorer-001-quality-score.md` shows score >= 0.92 |
| All 6 S-014 dimensions scored | Score file contains all dimension scores |
| S-007 constitutional compliance | Constitutional check passed in review artifacts |
| ORCHESTRATION.yaml updated | barrier-1 status = COMPLETE |

### 9.2 Phase 2 Exit Criteria

| Criterion | Validation |
|-----------|------------|
| FEAT-002 quality score >= 0.92 | `adv-scorer-002-quality-score.md` score >= 0.92 |
| FEAT-002 /nasa-se review complete | nasa-se review artifact exists in FEAT-002 path |
| FEAT-003 S-010 self-review pass | `adv-scorer-003-quality-score.md` pass |
| FEAT-005 S-010 self-review pass | `adv-scorer-005-quality-score.md` pass |
| All C3 strategies applied to FEAT-002 | Review artifacts reference S-004, S-012, S-013 |
| ORCHESTRATION.yaml updated | barrier-2 status = COMPLETE |

### 9.3 Phase 3 Exit Criteria

| Criterion | Validation |
|-----------|------------|
| FEAT-004 quality score >= 0.92 | `adv-scorer-004-quality-score.md` score >= 0.92 |
| FEAT-006 quality score >= 0.92 | `adv-scorer-006-quality-score.md` score >= 0.92 |
| FEAT-007 quality score >= 0.92 | `adv-scorer-007-quality-score.md` score >= 0.92 |
| Fan-in synthesis complete | `synth-001-epic001-final-synthesis.md` exists |
| Persona consistency confirmed | Synthesis confirms all 7 features align with FEAT-001 |

### 9.4 Workflow Completion Criteria

| Criterion | Validation |
|-----------|------------|
| All 7 features produced | 7 feature deliverables exist with passing quality scores |
| Both barriers cleared | barrier-1 and barrier-2 status = COMPLETE in ORCHESTRATION.yaml |
| Fan-in synthesis exists | `synth-001-epic001-final-synthesis.md` exists |
| WORKTRACKER updated | PROJ-003 WORKTRACKER.md reflects all completed items |
| EPIC-001 document updated | `EPIC-001-je-ne-sais-quoi.md` updated with outcomes |

---

## 10. Risk Mitigations

| Risk | Likelihood | Impact | Mitigation |
|------|------------|--------|------------|
| FEAT-001 persona lacks sufficient depth to ground Tier 1/2 features | M | H | Researcher agent (ps-researcher-001) front-loads deep analysis; critic cycles enforce depth; quality gate hard-blocks Tier 1 access |
| FEAT-002 skill architecture conflicts with existing skill patterns | M | H | ps-researcher-002 audits all existing skills before design; /nasa-se requirements review before implementation; S-012 FMEA surfaces integration failures early |
| Quality gate cycling exhausts context window before passing | L | H | Max retry limit (2 beyond minimum 3); escalate to user at limit; checkpoint after each iteration preserves state |
| FEAT-003/FEAT-005 creative output inconsistent with FEAT-001 persona | M | M | Both C1 features take FEAT-001 persona doc as primary input; reviewer references persona in every check |
| Phase 3 fan-out produces inconsistent voice across FEAT-004/006/007 | M | M | All three take both FEAT-001 and FEAT-002 as inputs; synth-001 cross-feature coherence audit is mandatory |
| Context rot degrades quality gate enforcement in late phases | L | M | L2 reinject rules immune to context rot; ORCHESTRATION.yaml is machine-readable SSOT loaded fresh each session |
| FEAT-002 blocks Barrier 2 while FEAT-003/005 complete early | L | L | Documented in plan: FEAT-002 is the sole critical-path gate; FEAT-003/005 wait at Barrier 2 checkpoint until FEAT-002 passes |
| Research agents use training data instead of web sources, producing factual errors | H | H | DISC-002 validated: 4 errors found in Phase 1. ALL research agents MUST include explicit WebSearch/WebFetch instructions for factual claims about real people or external systems. P-022 compliance requires verifiable citations. |
| Persona doc loaded wholesale into /saucer-boy skill causes context rot | H | H | DISC-001/DEC-001: Progressive Disclosure architecture mandated. SKILL.md <5k words + references/ on-demand. Per-invocation budget 2-4k tokens vs 15k wholesale. |
| Supplemental enrichment passes introduce regression defects | M | M | DISC-003 validated: v0.5.0 regressed from 0.930 to 0.913 despite adding value. Any enrichment pass MUST include full critic cycle to catch execution-level defects. |

---

## 11. Resumption Context

### 11.1 Current Execution State

```
WORKFLOW STATUS AS OF 2026-02-19 (post-Phase 1 supplemental)
===============================================================

Workflow ID: jnsq-20260219-001
Pipeline:    jnsq
Quality Threshold: 0.95 (raised from 0.92 per user directive)

Phase 1 (Persona Distillation):    COMPLETE (supplemental pass)
  - ps-researcher-001:             COMPLETE + SUPPLEMENTAL COMPLETE (35 web sources)
  - ps-creator-001:                COMPLETE + SUPPLEMENTAL COMPLETE (v0.9.0)
  - ps-critic-001:                 COMPLETE + SUPPLEMENTAL COMPLETE (R1-R6, 0.953)
  - adv-scorer-001:                COMPLETE + SUPPLEMENTAL COMPLETE (0.953 PASS)
Barrier 1 (Quality Gate):          PASS (0.953 >= 0.95) — HUMAN REVIEW APPROVED

Discoveries & Decisions:           4 entities created (DISC-001, DISC-002, DISC-003, DEC-001)
  - DISC-001: Progressive Disclosure Architecture (VALIDATED)
  - DISC-002: Training Data Research Errors (VALIDATED)
  - DISC-003: Supplemental Citation Pipeline Pattern (VALIDATED)
  - DEC-001: FEAT-002 Progressive Disclosure Decomposition (DOCUMENTED)

Phase 2 (Tier 1 Fan-Out):          READY (Barrier 1 cleared)
  - FEAT-002 stream:               READY — design constraints from DISC-001/DEC-001
  - FEAT-003 stream:               READY
  - FEAT-005 stream:               READY
Barrier 2 (Quality Gate):          BLOCKED

Phase 3 (Tier 2 Fan-Out):          BLOCKED
  - FEAT-004 stream:               BLOCKED
  - FEAT-006 stream:               BLOCKED
  - FEAT-007 stream:               BLOCKED
  - synth-001 (Fan-In):            BLOCKED
```

### 11.2 Next Actions

1. **Phase 2 unlock**: Fan-out FEAT-002, FEAT-003, FEAT-005 streams in parallel.
2. **FEAT-002 (critical path)**: Start ps-researcher-002. Key inputs: persona doc (v0.9.0), existing skill architectures (`skills/`), DISC-001/DEC-001 design constraints. MUST use WebSearch per DISC-002. Must design progressive disclosure architecture per DEC-001.
3. **FEAT-003/FEAT-005**: Start ps-creator-003 and ps-creator-005 in parallel. Both take persona doc as primary input.
4. Run creator-critic loops for all three streams. FEAT-002 gets C3 treatment (7+ strategies). FEAT-003/005 get C1 (S-010).
5. Quality gate all three. FEAT-002 score gates Barrier 2; FEAT-003/005 must pass independently.

### 11.3 Files to Load at Session Resumption

| File | Purpose |
|------|---------|
| `ORCHESTRATION.yaml` | Machine-readable state (SSOT) — load first |
| `ORCHESTRATION_PLAN.md` | This file — strategic context |
| `projects/PROJ-003-je-ne-sais-quoi/WORKTRACKER.md` | Task tracking |
| `projects/PROJ-003-je-ne-sais-quoi/work/EPIC-001-je-ne-sais-quoi/EPIC-001-je-ne-sais-quoi.md` | EPIC context |
| `projects/PROJ-003-je-ne-sais-quoi/work/EPIC-001-je-ne-sais-quoi/EPIC-001:DEC-001-*.md` | Phase 2 design constraints |
| `projects/PROJ-003-je-ne-sais-quoi/work/EPIC-001-je-ne-sais-quoi/EPIC-001:DISC-001-*.md` | Progressive disclosure finding |
| `projects/PROJ-003-je-ne-sais-quoi/work/EPIC-001-je-ne-sais-quoi/EPIC-001:DISC-002-*.md` | Research methodology lesson |

---

*Document ID: PROJ-003-ORCH-PLAN*
*Workflow ID: jnsq-20260219-001*
*Version: 2.0*
*Cross-Session Portable: All paths are repository-relative*
*Generated by: orch-planner v2.1.0*
