# EN-001: Fix plugin.json Validation Errors

> **Enabler ID:** EN-001
> **Name:** Fix plugin.json Validation Errors
> **Type:** Enabler (Technical)
> **Status:** COMPLETED
> **Parent:** [FT-001](./FEATURE-WORKTRACKER.md)
> **Created:** 2026-01-13
> **Completed:** 2026-01-13

---

## Overview

Fix validation errors in `.claude-plugin/plugin.json` that prevent plugin installation.

### Bugs Addressed

| Bug ID | Description | Status |
|--------|-------------|--------|
| BUG-001 | 6 unrecognized fields in plugin.json | FIXED |
| BUG-002 | Paths missing ./ prefix | FIXED |
| BUG-003 | Skills used file paths instead of directory | FIXED |

### Discoveries

| ID | Description |
|----|-------------|
| DISC-001 | skills field IS valid but needs directory format, not file array |

---

## Tasks

### Task 1: Remove unrecognized keys

**Status:** COMPLETED

| Field Removed | Evidence |
|---------------|----------|
| `$schema` | Context7: Not in official schema |
| `engines` | Context7: Not in official schema |
| `main` | Context7: Not in official schema |
| `configuration` | Context7: Not in official schema |
| `dependencies` | Context7: Not in official schema |
| `capabilities` | Context7: Not in official schema |

**Evidence:** Context7 `/anthropics/claude-code` manifest-reference.md shows only: name, version, description, author, homepage, repository, license, keywords, commands, agents, hooks, mcpServers, skills

---

### Task 2: Fix skills format

**Status:** COMPLETED

**Before:**
```json
"skills": [
  "skills/worktracker/SKILL.md",
  "skills/architecture/SKILL.md",
  "skills/problem-solving/SKILL.md"
]
```

**After:**
```json
"skills": "./skills/"
```

**Evidence:**
- Context7: "Skills are auto-discovered from the skills/ directory"
- Context7: "Path rules require them to start with `./`"

---

### Task 3: Fix commands path format

**Status:** COMPLETED

**Before:**
```json
"commands": ["commands/architect.md", "commands/release.md"]
```

**After:**
```json
"commands": ["./commands/architect.md", "./commands/release.md"]
```

**Evidence:** Context7: "All paths must be relative with the `./` prefix"

---

### Task 4: Fix hooks path format

**Status:** COMPLETED

**Before:**
```json
"hooks": "hooks/hooks.json"
```

**After:**
```json
"hooks": "./hooks/hooks.json"
```

**Evidence:** Context7: Example shows `"hooks": "./config/hooks.json"` with ./ prefix

---

### Task 5: Verify final plugin.json

**Status:** COMPLETED

**Final State:**
```json
{
  "name": "jerry",
  "version": "0.1.0",
  "description": "Framework for behavior and workflow guardrails with knowledge accrual",
  "author": {
    "name": "Jerry Framework Contributors",
    "url": "https://github.com/geekatron/jerry"
  },
  "license": "MIT",
  "repository": "https://github.com/geekatron/jerry",
  "keywords": ["jerry", "workflow", "guardrails", "knowledge-management"],
  "skills": "./skills/",
  "commands": ["./commands/architect.md", "./commands/release.md"],
  "hooks": "./hooks/hooks.json"
}
```

**Validation:**
- [x] Only recognized fields present
- [x] All paths use ./ prefix
- [x] Skills uses directory path format
- [x] JSON is valid

---

## References

| Source | Citation |
|--------|----------|
| Context7 | `/anthropics/claude-code` manifest-reference.md |
| Context7 | `/anthropics/claude-code` plugin-structure/SKILL.md |
| File | `.claude-plugin/plugin.json` |
