# TASK-243: Update SKILL.md with --no-mindmap Flag

<!--
TEMPLATE: Task
VERSION: 1.0.0
SOURCE: ONTOLOGY-v1.md Section 3.4.6
UPDATED: 2026-01-30 - Changed from opt-in (--mindmap) to opt-out (--no-mindmap)
-->

---

## Frontmatter

```yaml
id: "EN-024:TASK-243"
work_type: TASK
title: "Update SKILL.md with --no-mindmap Flag"
description: |
  Add --no-mindmap opt-out flag and --mindmap-format parameters to the transcript SKILL.md
  definition, including documentation and invocation examples. Mindmaps are generated by default.
classification: ENABLER
status: BACKLOG
resolution: null
priority: HIGH
assignee: "Claude"
created_by: "Claude"
created_at: "2026-01-28T00:00:00Z"
updated_at: "2026-01-30T00:00:00Z"
parent_id: "EN-024"
tags:
  - implementation
  - skill-md
  - parameters
  - opt-out
effort: 2
acceptance_criteria: |
  - --no-mindmap opt-out flag added to SKILL.md Input Parameters
  - --mindmap-format parameter added with values: mermaid, ascii, both
  - Default behavior documented (mindmaps generated by default with "both" format)
  - Invocation examples updated showing opt-out usage
  - Agent pipeline diagram updated to show default mindmap generation
activity: DEVELOPMENT
original_estimate: 2
remaining_work: 2
time_spent: 0
```

---

## Description

Update the transcript skill SKILL.md file to include the new mindmap parameters with opt-out behavior.

### Changes Required

1. **Input Parameters Table**: Add new parameters (--no-mindmap, --mindmap-format)
2. **Invocation Examples**: Add examples showing default mindmap generation and opt-out
3. **Agent Pipeline Diagram**: Show mindmap step as default (with opt-out path)
4. **State Passing Section**: Document mindmap agent outputs

### Parameter Specification

| Parameter | Type | Required | Default | Values | Description |
|-----------|------|----------|---------|--------|-------------|
| `--no-mindmap` | flag | No | false | - | Disable mindmap generation (mindmaps ON by default) |
| `--mindmap-format` | string | No | "both" | mermaid, ascii, both | Format(s) to generate |

### Default Behavior

- **Mindmaps are generated BY DEFAULT** with both Mermaid and ASCII formats
- Use `--no-mindmap` to disable mindmap generation
- Use `--mindmap-format` to select specific format when mindmaps are enabled

---

## Acceptance Criteria

- [ ] --no-mindmap opt-out flag documented in Input Parameters section
- [ ] --mindmap-format parameter documented with allowed values
- [ ] Default behavior clearly stated (mindmaps ON by default)
- [ ] Slash command examples updated (show default and opt-out)
- [ ] Natural language invocation examples updated
- [ ] Pipeline diagram shows mindmap step as default (with opt-out path)
- [ ] State passing updated for ts_mindmap_output
- [ ] Output directory specified as `08-mindmap/` (per DISC-001)

---

## Implementation Notes

### Current Parameters (from SKILL.md)

```markdown
| Parameter | Type | Required | Default | Description |
|-----------|------|----------|---------|-------------|
| `input_file` | string | Yes | - | Path to transcript file |
| `output_dir` | string | No | `./transcript-output/` | Output directory for packet |
| `format` | string | No | auto-detect | Force format: `vtt`, `srt`, `txt` |
| `confidence_threshold` | float | No | 0.7 | Minimum confidence for extractions |
| `quality_threshold` | float | No | 0.9 | ps-critic quality threshold |
```

### Updated Parameters (to add)

```markdown
| `--no-mindmap` | flag | No | false | Disable mindmap generation (ON by default) |
| `--mindmap-format` | string | No | both | Format: `mermaid`, `ascii`, `both` |
```

### Example Invocations to Add

```markdown
### Default Behavior (Mindmaps Generated)
/transcript meeting.vtt                              # Mindmaps ON by default (both formats)
/transcript meeting.vtt --mindmap-format mermaid     # Only Mermaid format
/transcript meeting.vtt --mindmap-format ascii       # Only ASCII format

### Opt-Out (Disable Mindmaps)
/transcript meeting.vtt --no-mindmap                 # Skip mindmap generation
```

### Output Directory

Mindmap files are written to `08-mindmap/` per DISC-001 numbering correction:
- `08-mindmap/mindmap.mmd` - Mermaid format
- `08-mindmap/mindmap.ascii.txt` - ASCII format

---

## Related Items

- Parent: [EN-024: Mindmap Pipeline Integration](./EN-024-mindmap-pipeline-integration.md)
- Blocked By: [TASK-242: ADR-006](./TASK-242-adr-006-mindmap-integration.md)
- **ADR Reference:** [ADR-006: Mindmap Pipeline Integration](../../../../../docs/adrs/ADR-006-mindmap-pipeline-integration.md) - Sections 5.1 (Parameters), 5.2 (State Passing)
- Target File: [skills/transcript/SKILL.md](../../../../../skills/transcript/SKILL.md)

---

## Evidence

### Deliverables

| Deliverable | Type | Link |
|-------------|------|------|
| Updated SKILL.md | Implementation | skills/transcript/SKILL.md |

### Verification

- [ ] Parameters added correctly
- [ ] Examples are valid
- [ ] Documentation clear

---

## History

| Date | Status | Notes |
|------|--------|-------|
| 2026-01-28 | Created | Initial task creation |
| 2026-01-30 | Updated | **OPT-OUT BEHAVIOR**: Changed from `--mindmap` opt-in to `--no-mindmap` opt-out per user requirement. Mindmaps now generated by default. Added `08-mindmap/` output directory per DISC-001. |
| 2026-01-30 | Updated | **ADR-006 ALIGNMENT**: Added ADR-006 reference. Implementation must follow ADR-006 sections 5.1 (Parameter Specification) and 5.2 (State Passing Schema). |
