# FEAT-017-001: Shell Command Portability

> **Type:** feature
> **Status:** pending
> **Priority:** high
> **Impact:** high
> **Created:** 2026-02-26
> **Due:** --
> **Completed:** --
> **Parent:** EPIC-017-001
> **Owner:** --
> **Target Sprint:** --

---

## Document Sections

| Section | Purpose |
|---------|---------|
| [Summary](#summary) | Brief description and value proposition |
| [Benefit Hypothesis](#benefit-hypothesis) | Expected benefits |
| [Acceptance Criteria](#acceptance-criteria) | Definition of done |
| [Children Stories/Enablers](#children-storiesenablers) | Bug inventory and tracking |
| [Progress Summary](#progress-summary) | Overall feature progress |
| [Related Items](#related-items) | Hierarchy and related items |
| [History](#history) | Status changes |

---

## Summary

Replace all platform-specific shell command assumptions with cross-platform alternatives. This addresses the highest-impact portability issues: hardcoded `python3` binary name, bash-only migration scripts, and macOS-specific symlink resolution.

**Value Proposition:**
- Jerry CLI works on Windows without requiring WSL or Cygwin
- Migration scripts execute on any platform with Python installed
- Symlink operations work correctly on macOS with different filesystem configurations

---

## Benefit Hypothesis

**We believe that** replacing hardcoded shell commands with cross-platform Python equivalents

**Will result in** Jerry being installable and runnable on Windows natively

**We will know we have succeeded when** `uv run jerry session start` works on Windows, macOS, and Linux without errors

---

## Acceptance Criteria

### Definition of Done

- [ ] All 3 child bugs resolved and verified
- [ ] No hardcoded `python3` references remain in executable code
- [ ] Migration scripts use `sys.executable` or cross-platform invocation
- [ ] Symlink resolution works on macOS APFS and HFS+ volumes
- [ ] All changes verified by EN-017-002 portability test suite

### Functional Criteria

| # | Criterion | Verified |
|---|-----------|----------|
| AC-1 | statusLine hook uses `sys.executable` instead of `python3` | [ ] |
| AC-2 | Migration scripts use Python `subprocess` with `sys.executable` or `shutil` | [ ] |
| AC-3 | Symlink resolution uses `pathlib.Path.resolve()` with proper fallback | [ ] |

---

## Children Stories/Enablers

### Bug Inventory

| ID | Title | Severity | Status | GitHub |
|----|-------|----------|--------|--------|
| BUG-017-001 | statusLine uses python3 | major | pending | [#113](https://github.com/geekatron/jerry/issues/113) |
| BUG-017-002 | Migration scripts bash-only | major | pending | [#114](https://github.com/geekatron/jerry/issues/114) |
| BUG-017-006 | macOS symlink resolution | major | pending | [#118](https://github.com/geekatron/jerry/issues/118) |

### Bug Links

- [BUG-017-001: statusLine uses python3](./BUG-017-001-statusline-python3/BUG-017-001.md)
- [BUG-017-002: Migration scripts bash-only](./BUG-017-002-migration-scripts-bash/BUG-017-002.md)
- [BUG-017-006: macOS symlink resolution](./BUG-017-006-macos-symlink-resolution/BUG-017-006.md)

---

## Progress Summary

| Metric | Value |
|--------|-------|
| **Total Bugs** | 3 |
| **Completed** | 0 |
| **Completion %** | 0% |

---

## Related Items

### Hierarchy

- **Parent Epic:** [EPIC-017-001: Platform Portability](../EPIC-017-001.md)

### Source Findings

- PORT-001: Hardcoded `python3` in statusline (Major)
- PORT-003: Bash-only migration scripts (Major)
- PORT-013: macOS symlink resolution fallback (Major)

---

## History

| Date | Author | Status | Notes |
|------|--------|--------|-------|
| 2026-02-26 | Claude | pending | Feature created from PORT-001 analysis (PORT-001, PORT-003, PORT-013) |
