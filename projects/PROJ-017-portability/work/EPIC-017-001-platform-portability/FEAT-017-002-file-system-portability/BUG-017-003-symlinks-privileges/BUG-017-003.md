# BUG-017-003: Symlinks Require Elevated Privileges on Windows

> **Type:** bug
> **Status:** pending
> **Priority:** high
> **Impact:** high
> **Severity:** major
> **Created:** 2026-02-26
> **Due:** --
> **Completed:** --
> **Parent:** FEAT-017-002
> **Owner:** --
> **Found In:** v0.21.0
> **Fix Version:** --

---

## Document Sections

| Section | Purpose |
|---------|---------|
| [Summary](#summary) | Brief description and key details |
| [Steps to Reproduce](#steps-to-reproduce) | Steps to reproduce the issue |
| [Environment](#environment) | Environment where bug occurs |
| [Acceptance Criteria](#acceptance-criteria) | Conditions for bug to be fixed |
| [Related Items](#related-items) | Hierarchy and related work items |
| [History](#history) | Status changes |

---

## Summary

Jerry's context distribution uses symlinks (`.claude/rules/` -> `.context/rules/`) which require Developer Mode or elevated privileges on Windows. Standard users cannot create symlinks, causing bootstrap to fail.

**Key Details:**
- **Symptom:** Bootstrap fails with `OSError: symbolic link privilege not held` on Windows
- **Frequency:** Every bootstrap on Windows without Developer Mode enabled
- **Workaround:** Enable Windows Developer Mode or run as Administrator

---

## Steps to Reproduce

### Prerequisites

- Windows 10/11 without Developer Mode enabled
- Standard user account (no admin elevation)

### Steps to Reproduce

1. Clone jerry repository on Windows
2. Run bootstrap that creates `.claude/rules/` symlinks
3. Observe `OSError` or permission denied error

### Expected Result

Context distribution works without requiring elevated privileges.

### Actual Result

Symlink creation fails on Windows without Developer Mode.

---

## Environment

| Attribute | Value |
|-----------|-------|
| **Operating System** | Windows 10/11 (standard user) |
| **Runtime** | Python 3.11+ |
| **Application Version** | Jerry v0.21.0 |
| **Configuration** | `.claude/rules/` symlink targets |

---

## Acceptance Criteria

### Fix Verification

- [ ] Bootstrap detects Windows symlink capability before attempting creation
- [ ] Falls back to directory junctions (`os.symlink` with `target_is_directory=True`) or file copies when symlinks are unavailable
- [ ] Fallback mechanism keeps rules in sync (either junction or copy-on-bootstrap)
- [ ] Works on Windows with and without Developer Mode
- [ ] No regression on macOS/Linux symlink behavior

---

## Related Items

### Hierarchy

- **Parent Feature:** [FEAT-017-002: File System Portability](../FEAT-017-002.md)
- **Parent Epic:** [EPIC-017-001: Platform Portability](../../EPIC-017-001.md)

### Source

- PORT-004 Finding: Symlinks need elevated privileges on Windows
- GitHub Issue: [#115](https://github.com/geekatron/jerry/issues/115)

---

## History

| Date | Author | Status | Notes |
|------|--------|--------|-------|
| 2026-02-26 | Claude | pending | Bug created from PORT-001 analysis |
