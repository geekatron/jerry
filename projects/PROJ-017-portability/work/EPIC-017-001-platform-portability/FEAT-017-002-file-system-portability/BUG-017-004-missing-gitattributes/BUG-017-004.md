# BUG-017-004: Missing .gitattributes for Line Ending Normalization

> **Type:** bug
> **Status:** pending
> **Priority:** medium
> **Impact:** low
> **Severity:** minor
> **Created:** 2026-02-26
> **Due:** --
> **Completed:** --
> **Parent:** FEAT-017-002
> **Owner:** --
> **Found In:** v0.21.0
> **Fix Version:** --

---

## Document Sections

| Section | Purpose |
|---------|---------|
| [Summary](#summary) | Brief description and key details |
| [Steps to Reproduce](#steps-to-reproduce) | Steps to reproduce the issue |
| [Environment](#environment) | Environment where bug occurs |
| [Acceptance Criteria](#acceptance-criteria) | Conditions for bug to be fixed |
| [Related Items](#related-items) | Hierarchy and related work items |
| [History](#history) | Status changes |

---

## Summary

The repository lacks a `.gitattributes` file to enforce consistent line endings across platforms. Windows checkouts may use CRLF while macOS/Linux use LF, causing spurious diffs and potential script failures.

**Key Details:**
- **Symptom:** Inconsistent line endings across platforms; shell scripts may fail with `\r` characters
- **Frequency:** Every clone on Windows with default Git settings (`core.autocrlf=true`)
- **Workaround:** Manually configure `git config core.autocrlf input`

---

## Steps to Reproduce

### Prerequisites

- Windows machine with default Git configuration
- Fresh jerry repository clone

### Steps to Reproduce

1. Clone jerry repository on Windows with default Git settings
2. Open a `.sh` or `.py` file in a hex editor
3. Observe CRLF line endings instead of LF

### Expected Result

All text files use LF line endings regardless of platform.

### Actual Result

Windows clones may have CRLF line endings, causing script execution failures.

---

## Environment

| Attribute | Value |
|-----------|-------|
| **Operating System** | Windows 10/11 (default Git config) |
| **Runtime** | Git 2.x with `core.autocrlf=true` |
| **Application Version** | Jerry v0.21.0 |

---

## Acceptance Criteria

### Fix Verification

- [ ] `.gitattributes` file added to repository root
- [ ] `* text=auto` set as default
- [ ] Shell scripts explicitly set to `eol=lf`
- [ ] Python files explicitly set to `eol=lf`
- [ ] No CRLF line endings in tracked files after normalization

---

## Related Items

### Hierarchy

- **Parent Feature:** [FEAT-017-002: File System Portability](../FEAT-017-002.md)
- **Parent Epic:** [EPIC-017-001: Platform Portability](../../EPIC-017-001.md)

### Source

- PORT-005 Finding: Missing .gitattributes for line ending normalization
- GitHub Issue: [#116](https://github.com/geekatron/jerry/issues/116)

---

## History

| Date | Author | Status | Notes |
|------|--------|--------|-------|
| 2026-02-26 | Claude | pending | Bug created from PORT-001 analysis |
