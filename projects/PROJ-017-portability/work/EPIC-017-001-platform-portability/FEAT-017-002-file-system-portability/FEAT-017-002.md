# FEAT-017-002: File System Portability

> **Type:** feature
> **Status:** pending
> **Priority:** high
> **Impact:** high
> **Created:** 2026-02-26
> **Due:** --
> **Completed:** --
> **Parent:** EPIC-017-001
> **Owner:** --
> **Target Sprint:** --

---

## Document Sections

| Section | Purpose |
|---------|---------|
| [Summary](#summary) | Brief description and value proposition |
| [Benefit Hypothesis](#benefit-hypothesis) | Expected benefits |
| [Acceptance Criteria](#acceptance-criteria) | Definition of done |
| [Children Stories/Enablers](#children-storiesenablers) | Bug inventory and tracking |
| [Progress Summary](#progress-summary) | Overall feature progress |
| [Related Items](#related-items) | Hierarchy and related items |
| [History](#history) | Status changes |

---

## Summary

Resolve file system portability issues including symlink privilege requirements on Windows, missing `.gitattributes` for line ending normalization, and hardcoded Unix path separators.

**Value Proposition:**
- Jerry repository clones correctly on Windows with proper line endings
- Symlink-based context distribution works without elevated privileges where possible
- Path operations use `pathlib` for OS-agnostic behavior

---

## Benefit Hypothesis

**We believe that** fixing file system assumptions around symlinks, line endings, and path separators

**Will result in** Jerry's context distribution and file operations working correctly on Windows

**We will know we have succeeded when** `git clone` + `uv sync` + `uv run jerry session start` works on a fresh Windows machine without administrator privileges

---

## Acceptance Criteria

### Definition of Done

- [ ] All 3 child bugs resolved and verified
- [ ] `.gitattributes` file present with proper line ending rules
- [ ] All path concatenation uses `pathlib.Path` or `os.path.join`
- [ ] Symlink creation has fallback for non-privileged Windows users
- [ ] All changes verified by EN-017-002 portability test suite

### Functional Criteria

| # | Criterion | Verified |
|---|-----------|----------|
| AC-1 | `.gitattributes` normalizes line endings for `.md`, `.py`, `.json`, `.yaml` files | [ ] |
| AC-2 | No hardcoded `/` path separators in runtime code paths | [ ] |
| AC-3 | Symlink creation detects Windows privilege level and falls back to copy if needed | [ ] |

---

## Children Stories/Enablers

### Bug Inventory

| ID | Title | Severity | Status | GitHub |
|----|-------|----------|--------|--------|
| BUG-017-003 | Symlinks need privileges | major | pending | [#115](https://github.com/geekatron/jerry/issues/115) |
| BUG-017-004 | Missing .gitattributes | minor | pending | [#116](https://github.com/geekatron/jerry/issues/116) |
| BUG-017-005 | Hardcoded path separator | minor | pending | [#117](https://github.com/geekatron/jerry/issues/117) |

### Bug Links

- [BUG-017-003: Symlinks need privileges](./BUG-017-003-symlinks-privileges/BUG-017-003.md)
- [BUG-017-004: Missing .gitattributes](./BUG-017-004-missing-gitattributes/BUG-017-004.md)
- [BUG-017-005: Hardcoded path separator](./BUG-017-005-hardcoded-path-separator/BUG-017-005.md)

---

## Progress Summary

| Metric | Value |
|--------|-------|
| **Total Bugs** | 3 |
| **Completed** | 0 |
| **Completion %** | 0% |

---

## Related Items

### Hierarchy

- **Parent Epic:** [EPIC-017-001: Platform Portability](../EPIC-017-001.md)

### Source Findings

- PORT-004: Symlinks need elevated privileges on Windows (Major)
- PORT-005: Missing `.gitattributes` (Minor)
- PORT-006: Hardcoded path separator in bootstrap hook (Minor)

---

## History

| Date | Author | Status | Notes |
|------|--------|--------|-------|
| 2026-02-26 | Claude | pending | Feature created from PORT-001 analysis (PORT-004, PORT-005, PORT-006) |
